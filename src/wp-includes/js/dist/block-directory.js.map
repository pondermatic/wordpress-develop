{"version":3,"file":"block-directory.js","mappings":"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","sources":["webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/auto-block-uninstaller/@wordpress/block-directory/src/components/auto-block-uninstaller/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/block-ratings/@wordpress/block-directory/src/components/block-ratings/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/block-ratings/@wordpress/block-directory/src/components/block-ratings/stars.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/compact-list/@wordpress/block-directory/src/components/compact-list/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-block-icon/@wordpress/block-directory/src/components/downloadable-block-icon/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-block-list-item/@wordpress/block-directory/src/components/downloadable-block-list-item/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-block-notice/@wordpress/block-directory/src/components/downloadable-block-notice/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-blocks-list/@wordpress/block-directory/src/components/downloadable-blocks-list/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-blocks-panel/@wordpress/block-directory/src/components/downloadable-blocks-panel/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-blocks-panel/@wordpress/block-directory/src/components/downloadable-blocks-panel/inserter-panel.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/components/downloadable-blocks-panel/@wordpress/block-directory/src/components/downloadable-blocks-panel/no-results.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/plugins/get-install-missing/@wordpress/block-directory/src/plugins/get-install-missing/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/plugins/get-install-missing/@wordpress/block-directory/src/plugins/get-install-missing/install-button.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/plugins/@wordpress/block-directory/src/plugins/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/plugins/inserter-menu-downloadable-blocks-panel/@wordpress/block-directory/src/plugins/inserter-menu-downloadable-blocks-panel/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/plugins/installed-blocks-pre-publish-panel/@wordpress/block-directory/src/plugins/installed-blocks-pre-publish-panel/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/actions.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/index.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/load-assets.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/reducer.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/resolvers.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/@wordpress/block-directory/src/store/selectors.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/utils/@wordpress/block-directory/src/store/utils/get-plugin-url.js","webpack://wp/./node_modules/@wordpress/block-directory/build-module/store/utils/@wordpress/block-directory/src/store/utils/has-block-type.js","webpack://wp/./node_modules/@wordpress/icons/build-module/icon/@wordpress/icons/src/icon/index.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/block-default.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/star-empty.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/star-filled.js","webpack://wp/./node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/star-half.js","webpack://wp/external window \"lodash\"","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"editPost\"]","webpack://wp/external window [\"wp\",\"editor\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"htmlEntities\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/external window [\"wp\",\"plugins\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/./node_modules/@wordpress/block-directory/build-module/@wordpress/block-directory/src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { unregisterBlockType } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { store as blockDirectoryStore } from '../../store';\n\nexport default function AutoBlockUninstaller() {\n\tconst { uninstallBlockType } = useDispatch( blockDirectoryStore );\n\n\tconst shouldRemoveBlockTypes = useSelect( ( select ) => {\n\t\tconst { isAutosavingPost, isSavingPost } = select( editorStore );\n\t\treturn isSavingPost() && ! isAutosavingPost();\n\t}, [] );\n\n\tconst unusedBlockTypes = useSelect(\n\t\t( select ) => select( blockDirectoryStore ).getUnusedBlockTypes(),\n\t\t[]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( shouldRemoveBlockTypes && unusedBlockTypes.length ) {\n\t\t\tunusedBlockTypes.forEach( ( blockType ) => {\n\t\t\t\tuninstallBlockType( blockType );\n\t\t\t\tunregisterBlockType( blockType.name );\n\t\t\t} );\n\t\t}\n\t}, [ shouldRemoveBlockTypes ] );\n\n\treturn null;\n}\n","/**\n * Internal dependencies\n */\nimport Stars from './stars';\n\nexport const BlockRatings = ( { rating } ) => (\n\t<span className=\"block-directory-block-ratings\">\n\t\t<Stars rating={ rating } />\n\t</span>\n);\n\nexport default BlockRatings;\n","/**\n * External dependencies\n */\nimport { times } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Icon, starEmpty, starFilled, starHalf } from '@wordpress/icons';\n\nfunction Stars( { rating } ) {\n\tconst stars = Math.round( rating / 0.5 ) * 0.5;\n\n\tconst fullStarCount = Math.floor( rating );\n\tconst halfStarCount = Math.ceil( rating - fullStarCount );\n\tconst emptyStarCount = 5 - ( fullStarCount + halfStarCount );\n\n\treturn (\n\t\t<span\n\t\t\taria-label={ sprintf(\n\t\t\t\t/* translators: %s: number of stars. */\n\t\t\t\t__( '%s out of 5 stars' ),\n\t\t\t\tstars\n\t\t\t) }\n\t\t>\n\t\t\t{ times( fullStarCount, ( i ) => (\n\t\t\t\t<Icon\n\t\t\t\t\tkey={ `full_stars_${ i }` }\n\t\t\t\t\tclassName=\"block-directory-block-ratings__star-full\"\n\t\t\t\t\ticon={ starFilled }\n\t\t\t\t\tsize={ 16 }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ times( halfStarCount, ( i ) => (\n\t\t\t\t<Icon\n\t\t\t\t\tkey={ `half_stars_${ i }` }\n\t\t\t\t\tclassName=\"block-directory-block-ratings__star-half-full\"\n\t\t\t\t\ticon={ starHalf }\n\t\t\t\t\tsize={ 16 }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ times( emptyStarCount, ( i ) => (\n\t\t\t\t<Icon\n\t\t\t\t\tkey={ `empty_stars_${ i }` }\n\t\t\t\t\tclassName=\"block-directory-block-ratings__star-empty\"\n\t\t\t\t\ticon={ starEmpty }\n\t\t\t\t\tsize={ 16 }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</span>\n\t);\n}\n\nexport default Stars;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlockIcon from '../downloadable-block-icon';\n\nexport default function CompactList( { items } ) {\n\tif ( ! items.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ul className=\"block-directory-compact-list\">\n\t\t\t{ items.map( ( { icon, id, title, author } ) => (\n\t\t\t\t<li key={ id } className=\"block-directory-compact-list__item\">\n\t\t\t\t\t<DownloadableBlockIcon icon={ icon } title={ title } />\n\n\t\t\t\t\t<div className=\"block-directory-compact-list__item-details\">\n\t\t\t\t\t\t<div className=\"block-directory-compact-list__item-title\">\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-directory-compact-list__item-author\">\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: Name of the block author. */\n\t\t\t\t\t\t\t\t__( 'By %s' ),\n\t\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t) ) }\n\t\t</ul>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { BlockIcon } from '@wordpress/block-editor';\n\nfunction DownloadableBlockIcon( { icon } ) {\n\tconst className = 'block-directory-downloadable-block-icon';\n\treturn icon.match( /\\.(jpeg|jpg|gif|png|svg)(?:\\?.*)?$/ ) !== null ? (\n\t\t<img className={ className } src={ icon } alt=\"\" />\n\t) : (\n\t\t<BlockIcon className={ className } icon={ icon } showColors />\n\t);\n}\n\nexport default DownloadableBlockIcon;\n","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\tSpinner,\n\tVisuallyHidden,\n\t__unstableCompositeItem as CompositeItem,\n} from '@wordpress/components';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { getBlockType } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockRatings from '../block-ratings';\nimport DownloadableBlockIcon from '../downloadable-block-icon';\nimport DownloadableBlockNotice from '../downloadable-block-notice';\nimport { store as blockDirectoryStore } from '../../store';\n\n// Return the appropriate block item label, given the block data and status.\nfunction getDownloadableBlockLabel(\n\t{ title, rating, ratingCount },\n\t{ hasNotice, isInstalled, isInstalling }\n) {\n\tconst stars = Math.round( rating / 0.5 ) * 0.5;\n\n\tif ( ! isInstalled && hasNotice ) {\n\t\t/* translators: %1$s: block title */\n\t\treturn sprintf( 'Retry installing %s.', decodeEntities( title ) );\n\t}\n\n\tif ( isInstalled ) {\n\t\t/* translators: %1$s: block title */\n\t\treturn sprintf( 'Add %s.', decodeEntities( title ) );\n\t}\n\n\tif ( isInstalling ) {\n\t\t/* translators: %1$s: block title */\n\t\treturn sprintf( 'Installing %s.', decodeEntities( title ) );\n\t}\n\n\t// No ratings yet, just use the title.\n\tif ( ratingCount < 1 ) {\n\t\t/* translators: %1$s: block title */\n\t\treturn sprintf( 'Install %s.', decodeEntities( title ) );\n\t}\n\n\treturn sprintf(\n\t\t/* translators: %1$s: block title, %2$s: average rating, %3$s: total ratings count. */\n\t\t_n(\n\t\t\t'Install %1$s. %2$s stars with %3$s review.',\n\t\t\t'Install %1$s. %2$s stars with %3$s reviews.',\n\t\t\tratingCount\n\t\t),\n\t\tdecodeEntities( title ),\n\t\tstars,\n\t\tratingCount\n\t);\n}\n\nfunction DownloadableBlockListItem( { composite, item, onClick } ) {\n\tconst { author, description, icon, rating, title } = item;\n\t// getBlockType returns a block object if this block exists, or null if not.\n\tconst isInstalled = !! getBlockType( item.name );\n\n\tconst { hasNotice, isInstalling, isInstallable } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetErrorNoticeForBlock,\n\t\t\t\tisInstalling: isBlockInstalling,\n\t\t\t} = select( blockDirectoryStore );\n\t\t\tconst notice = getErrorNoticeForBlock( item.id );\n\t\t\tconst hasFatal = notice && notice.isFatal;\n\t\t\treturn {\n\t\t\t\thasNotice: !! notice,\n\t\t\t\tisInstalling: isBlockInstalling( item.id ),\n\t\t\t\tisInstallable: ! hasFatal,\n\t\t\t};\n\t\t},\n\t\t[ item ]\n\t);\n\n\tlet statusText = '';\n\tif ( isInstalled ) {\n\t\tstatusText = __( 'Installed!' );\n\t} else if ( isInstalling ) {\n\t\tstatusText = __( 'Installing…' );\n\t}\n\n\treturn (\n\t\t<CompositeItem\n\t\t\t__experimentalIsFocusable\n\t\t\trole=\"option\"\n\t\t\tas={ Button }\n\t\t\t{ ...composite }\n\t\t\tclassName=\"block-directory-downloadable-block-list-item\"\n\t\t\tonClick={ ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t\tisBusy={ isInstalling }\n\t\t\tdisabled={ isInstalling || ! isInstallable }\n\t\t\tlabel={ getDownloadableBlockLabel( item, {\n\t\t\t\thasNotice,\n\t\t\t\tisInstalled,\n\t\t\t\tisInstalling,\n\t\t\t} ) }\n\t\t\tshowTooltip={ true }\n\t\t\ttooltipPosition=\"top center\"\n\t\t>\n\t\t\t<div className=\"block-directory-downloadable-block-list-item__icon\">\n\t\t\t\t<DownloadableBlockIcon icon={ icon } title={ title } />\n\t\t\t\t{ isInstalling ? (\n\t\t\t\t\t<span className=\"block-directory-downloadable-block-list-item__spinner\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\t<BlockRatings rating={ rating } />\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<span className=\"block-directory-downloadable-block-list-item__details\">\n\t\t\t\t<span className=\"block-directory-downloadable-block-list-item__title\">\n\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %1$s: block title, %2$s: author name. */\n\t\t\t\t\t\t\t__( '%1$s <span>by %2$s</span>' ),\n\t\t\t\t\t\t\tdecodeEntities( title ),\n\t\t\t\t\t\t\tauthor\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tspan: (\n\t\t\t\t\t\t\t\t<span className=\"block-directory-downloadable-block-list-item__author\" />\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t\t{ hasNotice ? (\n\t\t\t\t\t<DownloadableBlockNotice block={ item } />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className=\"block-directory-downloadable-block-list-item__desc\">\n\t\t\t\t\t\t\t{ !! statusText\n\t\t\t\t\t\t\t\t? statusText\n\t\t\t\t\t\t\t\t: decodeEntities( description ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{ isInstallable &&\n\t\t\t\t\t\t\t! ( isInstalled || isInstalling ) && (\n\t\t\t\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t\t\t\t{ __( 'Install block' ) }\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</span>\n\t\t</CompositeItem>\n\t);\n}\n\nexport default DownloadableBlockListItem;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockDirectoryStore } from '../../store';\n\nexport const DownloadableBlockNotice = ( { block } ) => {\n\tconst errorNotice = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockDirectoryStore ).getErrorNoticeForBlock( block.id ),\n\t\t[ block ]\n\t);\n\n\tif ( ! errorNotice ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"block-directory-downloadable-block-notice\">\n\t\t\t<div className=\"block-directory-downloadable-block-notice__content\">\n\t\t\t\t{ errorNotice.message }\n\t\t\t\t{ errorNotice.isFatal\n\t\t\t\t\t? ' ' + __( 'Try reloading the page.' )\n\t\t\t\t\t: null }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default DownloadableBlockNotice;\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n} from '@wordpress/components';\nimport { getBlockType } from '@wordpress/blocks';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlockListItem from '../downloadable-block-list-item';\nimport { store as blockDirectoryStore } from '../../store';\n\nfunction DownloadableBlocksList( { items, onHover = noop, onSelect } ) {\n\tconst composite = useCompositeState();\n\tconst { installBlockType } = useDispatch( blockDirectoryStore );\n\n\tif ( ! items.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-directory-downloadable-blocks-list\"\n\t\t\taria-label={ __( 'Blocks available for install' ) }\n\t\t>\n\t\t\t{ items.map( ( item ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<DownloadableBlockListItem\n\t\t\t\t\t\tkey={ item.id }\n\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t// Check if the block is registered (`getBlockType`\n\t\t\t\t\t\t\t// will return an object). If so, insert the block.\n\t\t\t\t\t\t\t// This prevents installing existing plugins.\n\t\t\t\t\t\t\tif ( getBlockType( item.name ) ) {\n\t\t\t\t\t\t\t\tonSelect( item );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinstallBlockType( item ).then( ( success ) => {\n\t\t\t\t\t\t\t\t\tif ( success ) {\n\t\t\t\t\t\t\t\t\t\tonSelect( item );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonHover={ onHover }\n\t\t\t\t\t\titem={ item }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default DownloadableBlocksList;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Spinner } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlocksList from '../downloadable-blocks-list';\nimport DownloadableBlocksInserterPanel from './inserter-panel';\nimport DownloadableBlocksNoResults from './no-results';\nimport { store as blockDirectoryStore } from '../../store';\n\nfunction DownloadableBlocksPanel( {\n\tdownloadableItems,\n\tonSelect,\n\tonHover,\n\thasLocalBlocks,\n\thasPermission,\n\tisLoading,\n\tisTyping,\n} ) {\n\tif ( typeof hasPermission === 'undefined' || isLoading || isTyping ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ hasPermission && ! hasLocalBlocks && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"block-directory-downloadable-blocks-panel__no-local\">\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'No results available from your installed blocks.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"block-editor-inserter__quick-inserter-separator\" />\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t<div className=\"block-directory-downloadable-blocks-panel has-blocks-loading\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\tif ( false === hasPermission ) {\n\t\tif ( ! hasLocalBlocks ) {\n\t\t\treturn <DownloadableBlocksNoResults />;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\treturn !! downloadableItems.length ? (\n\t\t<DownloadableBlocksInserterPanel\n\t\t\tdownloadableItems={ downloadableItems }\n\t\t\thasLocalBlocks={ hasLocalBlocks }\n\t\t>\n\t\t\t<DownloadableBlocksList\n\t\t\t\titems={ downloadableItems }\n\t\t\t\tonSelect={ onSelect }\n\t\t\t\tonHover={ onHover }\n\t\t\t/>\n\t\t</DownloadableBlocksInserterPanel>\n\t) : (\n\t\t! hasLocalBlocks && <DownloadableBlocksNoResults />\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { filterValue, rootClientId = null } ) => {\n\t\tconst {\n\t\t\tgetDownloadableBlocks,\n\t\t\tisRequestingDownloadableBlocks,\n\t\t} = select( blockDirectoryStore );\n\t\tconst { canInsertBlockType } = select( blockEditorStore );\n\n\t\tconst hasPermission = select( coreStore ).canUser(\n\t\t\t'read',\n\t\t\t'block-directory/search'\n\t\t);\n\n\t\tfunction getInstallableBlocks( term ) {\n\t\t\treturn getDownloadableBlocks( term ).filter( ( block ) =>\n\t\t\t\tcanInsertBlockType( block, rootClientId, true )\n\t\t\t);\n\t\t}\n\n\t\tconst downloadableItems = hasPermission\n\t\t\t? getInstallableBlocks( filterValue )\n\t\t\t: [];\n\t\tconst isLoading = isRequestingDownloadableBlocks( filterValue );\n\n\t\treturn {\n\t\t\tdownloadableItems,\n\t\t\thasPermission,\n\t\t\tisLoading,\n\t\t};\n\t} ),\n] )( DownloadableBlocksPanel );\n","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\n\nfunction DownloadableBlocksInserterPanel( {\n\tchildren,\n\tdownloadableItems,\n\thasLocalBlocks,\n} ) {\n\tconst count = downloadableItems.length;\n\tuseEffect( () => {\n\t\tspeak(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %d: number of available blocks. */\n\t\t\t\t_n(\n\t\t\t\t\t'%d additional block is available to install.',\n\t\t\t\t\t'%d additional blocks are available to install.',\n\t\t\t\t\tcount\n\t\t\t\t),\n\t\t\t\tcount\n\t\t\t)\n\t\t);\n\t}, [ count ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ ! hasLocalBlocks && (\n\t\t\t\t<p className=\"block-directory-downloadable-blocks-panel__no-local\">\n\t\t\t\t\t{ __( 'No results available from your installed blocks.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\n\t\t\t<div className=\"block-editor-inserter__quick-inserter-separator\" />\n\n\t\t\t<div className=\"block-directory-downloadable-blocks-panel\">\n\t\t\t\t<div className=\"block-directory-downloadable-blocks-panel__header\">\n\t\t\t\t\t<h2 className=\"block-directory-downloadable-blocks-panel__title\">\n\t\t\t\t\t\t{ __( 'Available to install' ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<p className=\"block-directory-downloadable-blocks-panel__description\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select a block to install and add it to your post.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default DownloadableBlocksInserterPanel;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, blockDefault } from '@wordpress/icons';\n\nfunction DownloadableBlocksNoResults() {\n\treturn (\n\t\t<div className=\"block-editor-inserter__no-results\">\n\t\t\t<Icon\n\t\t\t\tclassName=\"block-editor-inserter__no-results-icon\"\n\t\t\t\ticon={ blockDefault }\n\t\t\t/>\n\t\t\t<p>{ __( 'No results found.' ) }</p>\n\t\t</div>\n\t);\n}\n\nexport default DownloadableBlocksNoResults;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { createBlock, getBlockType } from '@wordpress/blocks';\nimport { RawHTML } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tWarning,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport InstallButton from './install-button';\nimport { store as blockDirectoryStore } from '../../store';\n\nconst getInstallMissing = ( OriginalComponent ) => ( props ) => {\n\tconst { originalName } = props.attributes;\n\t// Disable reason: This is a valid component, but it's mistaken for a callback.\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\tconst { block, hasPermission } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getDownloadableBlocks } = select( blockDirectoryStore );\n\t\t\tconst blocks = getDownloadableBlocks(\n\t\t\t\t'block:' + originalName\n\t\t\t).filter( ( { name } ) => originalName === name );\n\t\t\treturn {\n\t\t\t\thasPermission: select( coreStore ).canUser(\n\t\t\t\t\t'read',\n\t\t\t\t\t'block-directory/search'\n\t\t\t\t),\n\t\t\t\tblock: blocks.length && blocks[ 0 ],\n\t\t\t};\n\t\t},\n\t\t[ originalName ]\n\t);\n\n\t// The user can't install blocks, or the block isn't available for download.\n\tif ( ! hasPermission || ! block ) {\n\t\treturn <OriginalComponent { ...props } />;\n\t}\n\n\treturn <ModifiedWarning { ...props } originalBlock={ block } />;\n};\n\nconst ModifiedWarning = ( { originalBlock, ...props } ) => {\n\tconst { originalName, originalUndelimitedContent } = props.attributes;\n\tconst { replaceBlock } = useDispatch( blockEditorStore );\n\tconst convertToHTML = () => {\n\t\treplaceBlock(\n\t\t\tprops.clientId,\n\t\t\tcreateBlock( 'core/html', {\n\t\t\t\tcontent: originalUndelimitedContent,\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst hasContent = !! originalUndelimitedContent;\n\tconst hasHTMLBlock = getBlockType( 'core/html' );\n\n\tlet messageHTML = sprintf(\n\t\t/* translators: %s: block name */\n\t\t__(\n\t\t\t'Your site doesn’t include support for the %s block. You can try installing the block or remove it entirely.'\n\t\t),\n\t\toriginalBlock.title || originalName\n\t);\n\tconst actions = [\n\t\t<InstallButton\n\t\t\tkey=\"install\"\n\t\t\tblock={ originalBlock }\n\t\t\tattributes={ props.attributes }\n\t\t\tclientId={ props.clientId }\n\t\t/>,\n\t];\n\n\tif ( hasContent && hasHTMLBlock ) {\n\t\tmessageHTML = sprintf(\n\t\t\t/* translators: %s: block name */\n\t\t\t__(\n\t\t\t\t'Your site doesn’t include support for the %s block. You can try installing the block, convert it to a Custom HTML block, or remove it entirely.'\n\t\t\t),\n\t\t\toriginalBlock.title || originalName\n\t\t);\n\t\tactions.push(\n\t\t\t<Button key=\"convert\" onClick={ convertToHTML } variant=\"link\">\n\t\t\t\t{ __( 'Keep as HTML' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div { ...useBlockProps() }>\n\t\t\t<Warning actions={ actions }>{ messageHTML }</Warning>\n\t\t\t<RawHTML>{ originalUndelimitedContent }</RawHTML>\n\t\t</div>\n\t);\n};\n\nexport default getInstallMissing;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { createBlock, getBlockType, parse } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as blockDirectoryStore } from '../../store';\n\nexport default function InstallButton( { attributes, block, clientId } ) {\n\tconst isInstallingBlock = useSelect(\n\t\t( select ) => select( blockDirectoryStore ).isInstalling( block.id ),\n\t\t[ block.id ]\n\t);\n\tconst { installBlockType } = useDispatch( blockDirectoryStore );\n\tconst { replaceBlock } = useDispatch( blockEditorStore );\n\n\treturn (\n\t\t<Button\n\t\t\tonClick={ () =>\n\t\t\t\tinstallBlockType( block ).then( ( success ) => {\n\t\t\t\t\tif ( success ) {\n\t\t\t\t\t\tconst blockType = getBlockType( block.name );\n\t\t\t\t\t\tconst [ originalBlock ] = parse(\n\t\t\t\t\t\t\tattributes.originalContent\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( originalBlock && blockType ) {\n\t\t\t\t\t\t\treplaceBlock(\n\t\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t\t\tblockType.name,\n\t\t\t\t\t\t\t\t\toriginalBlock.attributes,\n\t\t\t\t\t\t\t\t\toriginalBlock.innerBlocks\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t}\n\t\t\tdisabled={ isInstallingBlock }\n\t\t\tisBusy={ isInstallingBlock }\n\t\t\tvariant=\"primary\"\n\t\t>\n\t\t\t{ sprintf(\n\t\t\t\t/* translators: %s: block name */\n\t\t\t\t__( 'Install %s' ),\n\t\t\t\tblock.title\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { registerPlugin } from '@wordpress/plugins';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport AutoBlockUninstaller from '../components/auto-block-uninstaller';\nimport InserterMenuDownloadableBlocksPanel from './inserter-menu-downloadable-blocks-panel';\nimport InstalledBlocksPrePublishPanel from './installed-blocks-pre-publish-panel';\nimport getInstallMissing from './get-install-missing';\n\nregisterPlugin( 'block-directory', {\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<AutoBlockUninstaller />\n\t\t\t\t<InserterMenuDownloadableBlocksPanel />\n\t\t\t\t<InstalledBlocksPrePublishPanel />\n\t\t\t</>\n\t\t);\n\t},\n} );\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'block-directory/fallback',\n\t( settings, name ) => {\n\t\tif ( name !== 'core/missing' ) {\n\t\t\treturn settings;\n\t\t}\n\t\tsettings.edit = getInstallMissing( settings.edit );\n\n\t\treturn settings;\n\t}\n);\n","/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __unstableInserterMenuExtension } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DownloadableBlocksPanel from '../../components/downloadable-blocks-panel';\n\nfunction InserterMenuDownloadableBlocksPanel() {\n\tconst [ debouncedFilterValue, setFilterValue ] = useState( '' );\n\tconst debouncedSetFilterValue = debounce( setFilterValue, 400 );\n\n\treturn (\n\t\t<__unstableInserterMenuExtension>\n\t\t\t{ ( {\n\t\t\t\tonSelect,\n\t\t\t\tonHover,\n\t\t\t\tfilterValue,\n\t\t\t\thasItems,\n\t\t\t\trootClientId,\n\t\t\t} ) => {\n\t\t\t\tif ( debouncedFilterValue !== filterValue ) {\n\t\t\t\t\tdebouncedSetFilterValue( filterValue );\n\t\t\t\t}\n\n\t\t\t\tif ( ! debouncedFilterValue ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<DownloadableBlocksPanel\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\tonHover={ onHover }\n\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\tfilterValue={ debouncedFilterValue }\n\t\t\t\t\t\thasLocalBlocks={ hasItems }\n\t\t\t\t\t\tisTyping={ filterValue !== debouncedFilterValue }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</__unstableInserterMenuExtension>\n\t);\n}\n\nexport default InserterMenuDownloadableBlocksPanel;\n","/**\n * WordPress dependencies\n */\nimport { _n, sprintf } from '@wordpress/i18n';\nimport { PluginPrePublishPanel } from '@wordpress/edit-post';\nimport { useSelect } from '@wordpress/data';\nimport { blockDefault } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport CompactList from '../../components/compact-list';\nimport { store as blockDirectoryStore } from '../../store';\n\nexport default function InstalledBlocksPrePublishPanel() {\n\tconst newBlockTypes = useSelect(\n\t\t( select ) => select( blockDirectoryStore ).getNewBlockTypes(),\n\t\t[]\n\t);\n\n\tif ( ! newBlockTypes.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PluginPrePublishPanel\n\t\t\ticon={ blockDefault }\n\t\t\ttitle={ sprintf(\n\t\t\t\t// translators: %d: number of blocks (number).\n\t\t\t\t_n(\n\t\t\t\t\t'Added: %d block',\n\t\t\t\t\t'Added: %d blocks',\n\t\t\t\t\tnewBlockTypes.length\n\t\t\t\t),\n\t\t\t\tnewBlockTypes.length\n\t\t\t) }\n\t\t\tinitialOpen={ true }\n\t\t>\n\t\t\t<p className=\"installed-blocks-pre-publish-panel__copy\">\n\t\t\t\t{ _n(\n\t\t\t\t\t'The following block has been added to your site.',\n\t\t\t\t\t'The following blocks have been added to your site.',\n\t\t\t\t\tnewBlockTypes.length\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<CompactList items={ newBlockTypes } />\n\t\t</PluginPrePublishPanel>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tstore as blocksStore,\n\tunstable__bootstrapServerSideBlockDefinitions, // eslint-disable-line camelcase\n} from '@wordpress/blocks';\nimport { __, sprintf } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { loadAssets } from './load-assets';\nimport getPluginUrl from './utils/get-plugin-url';\n\n/**\n * Returns an action object used in signalling that the downloadable blocks\n * have been requested and are loading.\n *\n * @param {string} filterValue Search string.\n *\n * @return {Object} Action object.\n */\nexport function fetchDownloadableBlocks( filterValue ) {\n\treturn { type: 'FETCH_DOWNLOADABLE_BLOCKS', filterValue };\n}\n\n/**\n * Returns an action object used in signalling that the downloadable blocks\n * have been updated.\n *\n * @param {Array}  downloadableBlocks Downloadable blocks.\n * @param {string} filterValue        Search string.\n *\n * @return {Object} Action object.\n */\nexport function receiveDownloadableBlocks( downloadableBlocks, filterValue ) {\n\treturn {\n\t\ttype: 'RECEIVE_DOWNLOADABLE_BLOCKS',\n\t\tdownloadableBlocks,\n\t\tfilterValue,\n\t};\n}\n\n/**\n * Action triggered to install a block plugin.\n *\n * @param {Object} block The block item returned by search.\n *\n * @return {boolean} Whether the block was successfully installed & loaded.\n */\nexport const installBlockType = ( block ) => async ( {\n\tregistry,\n\tdispatch,\n} ) => {\n\tconst { id, name } = block;\n\tlet success = false;\n\tdispatch.clearErrorNotice( id );\n\ttry {\n\t\tdispatch.setIsInstalling( id, true );\n\n\t\t// If we have a wp:plugin link, the plugin is installed but inactive.\n\t\tconst url = getPluginUrl( block );\n\t\tlet links = {};\n\t\tif ( url ) {\n\t\t\tawait apiFetch( {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl,\n\t\t\t\tdata: { status: 'active' },\n\t\t\t} );\n\t\t} else {\n\t\t\tconst response = await apiFetch( {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tpath: 'wp/v2/plugins',\n\t\t\t\tdata: { slug: id, status: 'active' },\n\t\t\t} );\n\t\t\t// Add the `self` link for newly-installed blocks.\n\t\t\tlinks = response._links;\n\t\t}\n\n\t\tdispatch.addInstalledBlockType( {\n\t\t\t...block,\n\t\t\tlinks: { ...block.links, ...links },\n\t\t} );\n\n\t\t// Ensures that the block metadata is propagated to the editor when registered on the server.\n\t\tconst metadataFields = [\n\t\t\t'api_version',\n\t\t\t'title',\n\t\t\t'category',\n\t\t\t'parent',\n\t\t\t'icon',\n\t\t\t'description',\n\t\t\t'keywords',\n\t\t\t'attributes',\n\t\t\t'provides_context',\n\t\t\t'uses_context',\n\t\t\t'supports',\n\t\t\t'styles',\n\t\t\t'example',\n\t\t\t'variations',\n\t\t];\n\t\tawait apiFetch( {\n\t\t\tpath: addQueryArgs( `/wp/v2/block-types/${ name }`, {\n\t\t\t\t_fields: metadataFields,\n\t\t\t} ),\n\t\t} )\n\t\t\t// Ignore when the block is not registered on the server.\n\t\t\t.catch( () => {} )\n\t\t\t.then( ( response ) => {\n\t\t\t\tif ( ! response ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tunstable__bootstrapServerSideBlockDefinitions( {\n\t\t\t\t\t[ name ]: pick( response, metadataFields ),\n\t\t\t\t} );\n\t\t\t} );\n\n\t\tawait loadAssets();\n\t\tconst registeredBlocks = registry.select( blocksStore ).getBlockTypes();\n\t\tif ( ! registeredBlocks.some( ( i ) => i.name === name ) ) {\n\t\t\tthrow new Error(\n\t\t\t\t__( 'Error registering block. Try reloading the page.' )\n\t\t\t);\n\t\t}\n\n\t\tregistry.dispatch( noticesStore ).createInfoNotice(\n\t\t\tsprintf(\n\t\t\t\t// translators: %s is the block title.\n\t\t\t\t__( 'Block %s installed and added.' ),\n\t\t\t\tblock.title\n\t\t\t),\n\t\t\t{\n\t\t\t\tspeak: true,\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t\tsuccess = true;\n\t} catch ( error ) {\n\t\tlet message = error.message || __( 'An error occurred.' );\n\n\t\t// Errors we throw are fatal.\n\t\tlet isFatal = error instanceof Error;\n\n\t\t// Specific API errors that are fatal.\n\t\tconst fatalAPIErrors = {\n\t\t\tfolder_exists: __(\n\t\t\t\t'This block is already installed. Try reloading the page.'\n\t\t\t),\n\t\t\tunable_to_connect_to_filesystem: __(\n\t\t\t\t'Error installing block. You can reload the page and try again.'\n\t\t\t),\n\t\t};\n\n\t\tif ( fatalAPIErrors[ error.code ] ) {\n\t\t\tisFatal = true;\n\t\t\tmessage = fatalAPIErrors[ error.code ];\n\t\t}\n\n\t\tdispatch.setErrorNotice( id, message, isFatal );\n\t\tregistry.dispatch( noticesStore ).createErrorNotice( message, {\n\t\t\tspeak: true,\n\t\t\tisDismissible: true,\n\t\t} );\n\t}\n\tdispatch.setIsInstalling( id, false );\n\treturn success;\n};\n\n/**\n * Action triggered to uninstall a block plugin.\n *\n * @param {Object} block The blockType object.\n */\nexport const uninstallBlockType = ( block ) => async ( {\n\tregistry,\n\tdispatch,\n} ) => {\n\ttry {\n\t\tconst url = getPluginUrl( block );\n\t\tawait apiFetch( {\n\t\t\tmethod: 'PUT',\n\t\t\turl,\n\t\t\tdata: { status: 'inactive' },\n\t\t} );\n\t\tawait apiFetch( {\n\t\t\tmethod: 'DELETE',\n\t\t\turl,\n\t\t} );\n\t\tdispatch.removeInstalledBlockType( block );\n\t} catch ( error ) {\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createErrorNotice( error.message || __( 'An error occurred.' ) );\n\t}\n};\n\n/**\n * Returns an action object used to add a block type to the \"newly installed\"\n * tracking list.\n *\n * @param {Object} item The block item with the block id and name.\n *\n * @return {Object} Action object.\n */\nexport function addInstalledBlockType( item ) {\n\treturn {\n\t\ttype: 'ADD_INSTALLED_BLOCK_TYPE',\n\t\titem,\n\t};\n}\n\n/**\n * Returns an action object used to remove a block type from the \"newly installed\"\n * tracking list.\n *\n * @param {string} item The block item with the block id and name.\n *\n * @return {Object} Action object.\n */\nexport function removeInstalledBlockType( item ) {\n\treturn {\n\t\ttype: 'REMOVE_INSTALLED_BLOCK_TYPE',\n\t\titem,\n\t};\n}\n\n/**\n * Returns an action object used to indicate install in progress.\n *\n * @param {string}  blockId\n * @param {boolean} isInstalling\n *\n * @return {Object} Action object.\n */\nexport function setIsInstalling( blockId, isInstalling ) {\n\treturn {\n\t\ttype: 'SET_INSTALLING_BLOCK',\n\t\tblockId,\n\t\tisInstalling,\n\t};\n}\n\n/**\n * Sets an error notice to be displayed to the user for a given block.\n *\n * @param {string}  blockId The ID of the block plugin. eg: my-block\n * @param {string}  message The message shown in the notice.\n * @param {boolean} isFatal Whether the user can recover from the error.\n *\n * @return {Object} Action object.\n */\nexport function setErrorNotice( blockId, message, isFatal = false ) {\n\treturn {\n\t\ttype: 'SET_ERROR_NOTICE',\n\t\tblockId,\n\t\tmessage,\n\t\tisFatal,\n\t};\n}\n\n/**\n * Sets the error notice to empty for specific block.\n *\n * @param {string} blockId The ID of the block plugin. eg: my-block\n *\n * @return {Object} Action object.\n */\nexport function clearErrorNotice( blockId ) {\n\treturn {\n\t\ttype: 'CLEAR_ERROR_NOTICE',\n\t\tblockId,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as resolvers from './resolvers';\n\n/**\n * Module Constants\n */\nconst STORE_NAME = 'core/block-directory';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n\tresolvers,\n};\n\n/**\n * Store definition for the block directory namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\nregister( store );\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Load an asset for a block.\n *\n * This function returns a Promise that will resolve once the asset is loaded,\n * or in the case of Stylesheets and Inline JavaScript, will resolve immediately.\n *\n * @param {HTMLElement} el A HTML Element asset to inject.\n *\n * @return {Promise} Promise which will resolve when the asset is loaded.\n */\nexport const loadAsset = ( el ) => {\n\treturn new Promise( ( resolve, reject ) => {\n\t\t/*\n\t\t * Reconstruct the passed element, this is required as inserting the Node directly\n\t\t * won't always fire the required onload events, even if the asset wasn't already loaded.\n\t\t */\n\t\tconst newNode = document.createElement( el.nodeName );\n\n\t\t[ 'id', 'rel', 'src', 'href', 'type' ].forEach( ( attr ) => {\n\t\t\tif ( el[ attr ] ) {\n\t\t\t\tnewNode[ attr ] = el[ attr ];\n\t\t\t}\n\t\t} );\n\n\t\t// Append inline <script> contents.\n\t\tif ( el.innerHTML ) {\n\t\t\tnewNode.appendChild( document.createTextNode( el.innerHTML ) );\n\t\t}\n\n\t\tnewNode.onload = () => resolve( true );\n\t\tnewNode.onerror = () => reject( new Error( 'Error loading asset.' ) );\n\n\t\tdocument.body.appendChild( newNode );\n\n\t\t// Resolve Stylesheets and Inline JavaScript immediately.\n\t\tif (\n\t\t\t'link' === newNode.nodeName.toLowerCase() ||\n\t\t\t( 'script' === newNode.nodeName.toLowerCase() && ! newNode.src )\n\t\t) {\n\t\t\tresolve();\n\t\t}\n\t} );\n};\n\n/**\n * Load the asset files for a block\n */\nexport async function loadAssets() {\n\t/*\n\t * Fetch the current URL (post-new.php, or post.php?post=1&action=edit) and compare the\n\t * JavaScript and CSS assets loaded between the pages. This imports the required assets\n\t * for the block into the current page while not requiring that we know them up-front.\n\t * In the future this can be improved by reliance upon block.json and/or a script-loader\n\t * dependency API.\n\t */\n\tconst response = await apiFetch( {\n\t\turl: document.location.href,\n\t\tparse: false,\n\t} );\n\n\tconst data = await response.text();\n\n\tconst doc = new window.DOMParser().parseFromString( data, 'text/html' );\n\n\tconst newAssets = Array.from(\n\t\tdoc.querySelectorAll( 'link[rel=\"stylesheet\"],script' )\n\t).filter( ( asset ) => asset.id && ! document.getElementById( asset.id ) );\n\n\t/*\n\t * Load each asset in order, as they may depend upon an earlier loaded script.\n\t * Stylesheets and Inline Scripts will resolve immediately upon insertion.\n\t */\n\tfor ( const newAsset of newAssets ) {\n\t\tawait loadAsset( newAsset );\n\t}\n}\n","/**\n * External dependencies\n */\n\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer returning an array of downloadable blocks.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const downloadableBlocks = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'FETCH_DOWNLOADABLE_BLOCKS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.filterValue ]: {\n\t\t\t\t\tisRequesting: true,\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'RECEIVE_DOWNLOADABLE_BLOCKS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.filterValue ]: {\n\t\t\t\t\tresults: action.downloadableBlocks,\n\t\t\t\t\tisRequesting: false,\n\t\t\t\t},\n\t\t\t};\n\t}\n\treturn state;\n};\n\n/**\n * Reducer managing the installation and deletion of blocks.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const blockManagement = (\n\tstate = {\n\t\tinstalledBlockTypes: [],\n\t\tisInstalling: {},\n\t},\n\taction\n) => {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_INSTALLED_BLOCK_TYPE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinstalledBlockTypes: [\n\t\t\t\t\t...state.installedBlockTypes,\n\t\t\t\t\taction.item,\n\t\t\t\t],\n\t\t\t};\n\t\tcase 'REMOVE_INSTALLED_BLOCK_TYPE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinstalledBlockTypes: state.installedBlockTypes.filter(\n\t\t\t\t\t( blockType ) => blockType.name !== action.item.name\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'SET_INSTALLING_BLOCK':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisInstalling: {\n\t\t\t\t\t...state.isInstalling,\n\t\t\t\t\t[ action.blockId ]: action.isInstalling,\n\t\t\t\t},\n\t\t\t};\n\t}\n\treturn state;\n};\n\n/**\n * Reducer returning an object of error notices.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const errorNotices = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'SET_ERROR_NOTICE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.blockId ]: {\n\t\t\t\t\tmessage: action.message,\n\t\t\t\t\tisFatal: action.isFatal,\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'CLEAR_ERROR_NOTICE':\n\t\t\treturn omit( state, action.blockId );\n\t}\n\treturn state;\n};\n\nexport default combineReducers( {\n\tdownloadableBlocks,\n\tblockManagement,\n\terrorNotices,\n} );\n","/**\n * External dependencies\n */\nimport { camelCase, mapKeys } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { fetchDownloadableBlocks, receiveDownloadableBlocks } from './actions';\n\nexport const getDownloadableBlocks = ( filterValue ) => async ( {\n\tdispatch,\n} ) => {\n\tif ( ! filterValue ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tdispatch( fetchDownloadableBlocks( filterValue ) );\n\t\tconst results = await apiFetch( {\n\t\t\tpath: `wp/v2/block-directory/search?term=${ filterValue }`,\n\t\t} );\n\t\tconst blocks = results.map( ( result ) =>\n\t\t\tmapKeys( result, ( value, key ) => camelCase( key ) )\n\t\t);\n\n\t\tdispatch( receiveDownloadableBlocks( blocks, filterValue ) );\n\t} catch {}\n};\n","/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport hasBlockType from './utils/has-block-type';\n\n/**\n * Returns true if application is requesting for downloadable blocks.\n *\n * @param {Object} state       Global application state.\n * @param {string} filterValue Search string.\n *\n * @return {boolean} Whether a request is in progress for the blocks list.\n */\nexport function isRequestingDownloadableBlocks( state, filterValue ) {\n\treturn state.downloadableBlocks[ filterValue ]?.isRequesting ?? false;\n}\n\n/**\n * Returns the available uninstalled blocks.\n *\n * @param {Object} state       Global application state.\n * @param {string} filterValue Search string.\n *\n * @return {Array} Downloadable blocks.\n */\nexport function getDownloadableBlocks( state, filterValue ) {\n\treturn state.downloadableBlocks[ filterValue ]?.results ?? [];\n}\n\n/**\n * Returns the block types that have been installed on the server in this\n * session.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} Block type items\n */\nexport function getInstalledBlockTypes( state ) {\n\treturn state.blockManagement.installedBlockTypes;\n}\n\n/**\n * Returns block types that have been installed on the server and used in the\n * current post.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} Block type items.\n */\nexport const getNewBlockTypes = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst usedBlockTree = select( blockEditorStore ).getBlocks();\n\t\tconst installedBlockTypes = getInstalledBlockTypes( state );\n\n\t\treturn installedBlockTypes.filter( ( blockType ) =>\n\t\t\thasBlockType( blockType, usedBlockTree )\n\t\t);\n\t}\n);\n\n/**\n * Returns the block types that have been installed on the server but are not\n * used in the current post.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} Block type items.\n */\nexport const getUnusedBlockTypes = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst usedBlockTree = select( blockEditorStore ).getBlocks();\n\t\tconst installedBlockTypes = getInstalledBlockTypes( state );\n\n\t\treturn installedBlockTypes.filter(\n\t\t\t( blockType ) => ! hasBlockType( blockType, usedBlockTree )\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a block plugin install is in progress.\n *\n * @param {Object} state   Global application state.\n * @param {string} blockId Id of the block.\n *\n * @return {boolean} Whether this block is currently being installed.\n */\nexport function isInstalling( state, blockId ) {\n\treturn state.blockManagement.isInstalling[ blockId ] || false;\n}\n\n/**\n * Returns all block error notices.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Object with error notices.\n */\nexport function getErrorNotices( state ) {\n\treturn state.errorNotices;\n}\n\n/**\n * Returns the error notice for a given block.\n *\n * @param {Object} state   Global application state.\n * @param {string} blockId The ID of the block plugin. eg: my-block\n *\n * @return {string|boolean} The error text, or false if no error.\n */\nexport function getErrorNoticeForBlock( state, blockId ) {\n\treturn state.errorNotices[ blockId ];\n}\n","/**\n * Get the plugin's direct API link out of a block-directory response.\n *\n * @param {Object} block The block object\n *\n * @return {string} The plugin URL, if exists.\n */\nexport default function getPluginUrl( block ) {\n\tif ( ! block ) {\n\t\treturn false;\n\t}\n\tconst link = block.links[ 'wp:plugin' ] || block.links.self;\n\tif ( link && link.length ) {\n\t\treturn link[ 0 ].href;\n\t}\n\treturn false;\n}\n","/**\n * Check if a block list contains a specific block type. Recursively searches\n * through `innerBlocks` if they exist.\n *\n * @param {Object}   blockType A block object to search for.\n * @param {Object[]} blocks    The list of blocks to look through.\n *\n * @return {boolean} Whether the blockType is found.\n */\nexport default function hasBlockType( blockType, blocks = [] ) {\n\tif ( ! blocks.length ) {\n\t\treturn false;\n\t}\n\tif ( blocks.some( ( { name } ) => name === blockType.name ) ) {\n\t\treturn true;\n\t}\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( hasBlockType( blockType, blocks[ i ].innerBlocks ) ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockDefault = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\n\t</SVG>\n);\n\nexport default blockDefault;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starHalf = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9.518 8.783a.25.25 0 00.188-.137l2.069-4.192a.25.25 0 01.448 0l2.07 4.192a.25.25 0 00.187.137l4.626.672a.25.25 0 01.139.427l-3.347 3.262a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.363.264l-4.137-2.176a.25.25 0 00-.233 0l-4.138 2.175a.25.25 0 01-.362-.263l.79-4.607a.25.25 0 00-.072-.222L4.753 9.882a.25.25 0 01.14-.427l4.625-.672zM12 14.533c.28 0 .559.067.814.2l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39v7.143z\" />\n\t</SVG>\n);\n\nexport default starHalf;\n","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Internal dependencies\n */\nimport './plugins';\n\nexport { store } from './store';\n"],"names":["unregisterBlockType","useDispatch","useSelect","useEffect","store","editorStore","blockDirectoryStore","AutoBlockUninstaller","uninstallBlockType","shouldRemoveBlockTypes","select","isAutosavingPost","isSavingPost","unusedBlockTypes","getUnusedBlockTypes","length","forEach","blockType","name","Stars","BlockRatings","rating","times","__","sprintf","Icon","starEmpty","starFilled","starHalf","stars","Math","round","fullStarCount","floor","halfStarCount","ceil","emptyStarCount","i","DownloadableBlockIcon","CompactList","items","map","icon","id","title","author","BlockIcon","className","match","_n","Button","Spinner","VisuallyHidden","__unstableCompositeItem","CompositeItem","createInterpolateElement","decodeEntities","getBlockType","DownloadableBlockNotice","getDownloadableBlockLabel","ratingCount","hasNotice","isInstalled","isInstalling","DownloadableBlockListItem","composite","item","onClick","description","isInstallable","getErrorNoticeForBlock","isBlockInstalling","notice","hasFatal","isFatal","statusText","event","preventDefault","span","block","errorNotice","message","noop","__unstableComposite","Composite","__unstableUseCompositeState","useCompositeState","DownloadableBlocksList","onHover","onSelect","installBlockType","then","success","compose","blockEditorStore","coreStore","withSelect","DownloadableBlocksInserterPanel","DownloadableBlocksNoResults","DownloadableBlocksPanel","downloadableItems","hasLocalBlocks","hasPermission","isLoading","isTyping","filterValue","rootClientId","getDownloadableBlocks","isRequestingDownloadableBlocks","canInsertBlockType","canUser","getInstallableBlocks","term","filter","speak","children","count","blockDefault","createBlock","RawHTML","Warning","useBlockProps","InstallButton","getInstallMissing","OriginalComponent","props","originalName","attributes","blocks","ModifiedWarning","originalBlock","originalUndelimitedContent","replaceBlock","convertToHTML","clientId","content","hasContent","hasHTMLBlock","messageHTML","actions","push","parse","isInstallingBlock","originalContent","innerBlocks","registerPlugin","addFilter","InserterMenuDownloadableBlocksPanel","InstalledBlocksPrePublishPanel","render","settings","edit","debounce","__unstableInserterMenuExtension","useState","debouncedFilterValue","setFilterValue","debouncedSetFilterValue","hasItems","PluginPrePublishPanel","newBlockTypes","getNewBlockTypes","pick","blocksStore","unstable__bootstrapServerSideBlockDefinitions","apiFetch","noticesStore","addQueryArgs","loadAssets","getPluginUrl","fetchDownloadableBlocks","type","receiveDownloadableBlocks","downloadableBlocks","registry","dispatch","clearErrorNotice","setIsInstalling","url","links","method","data","status","response","path","slug","_links","addInstalledBlockType","metadataFields","_fields","catch","registeredBlocks","getBlockTypes","some","Error","createInfoNotice","error","fatalAPIErrors","folder_exists","unable_to_connect_to_filesystem","code","setErrorNotice","createErrorNotice","isDismissible","removeInstalledBlockType","blockId","createReduxStore","register","reducer","selectors","resolvers","STORE_NAME","storeConfig","loadAsset","el","Promise","resolve","reject","newNode","document","createElement","nodeName","attr","innerHTML","appendChild","createTextNode","onload","onerror","body","toLowerCase","src","location","href","text","doc","window","DOMParser","parseFromString","newAssets","Array","from","querySelectorAll","asset","getElementById","newAsset","omit","combineReducers","state","action","isRequesting","results","blockManagement","installedBlockTypes","errorNotices","camelCase","mapKeys","result","value","key","createRegistrySelector","hasBlockType","getInstalledBlockTypes","usedBlockTree","getBlocks","getErrorNotices","link","self","cloneElement","size","width","height","SVG","Path"],"sourceRoot":""}