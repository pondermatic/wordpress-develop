{"version":3,"file":"dom.js","mappings":"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","sources":["webpack://wp/./node_modules/@wordpress/dom/build-module/@wordpress/dom/src/data-transfer.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/caret-range-from-point.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/clean-node-list.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/compute-caret-rect.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-selection.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-text-selection.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/document-has-uncollapsed-selection.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-computed-style.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-offset-parent.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-range-height.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-rectangle-from-range.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/get-scroll-container.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/hidden-caret-range-from-point.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/index.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/input-field-has-uncollapsed-selection.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/insert-after.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-element.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-empty.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-entirely-selected.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-form-element.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-horizontal-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-html-input-element.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-input-or-text-area.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-number-input.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-rtl.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-selection-forward.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-text-field.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/is-vertical-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-horizontal-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/place-caret-at-vertical-edge.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/remove-invalid-html.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/remove.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/replace-tag.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/replace.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/safe-html.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/strip-html.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/unwrap.js","webpack://wp/./node_modules/@wordpress/dom/build-module/dom/@wordpress/dom/src/dom/wrap.js","webpack://wp/./node_modules/@wordpress/dom/build-module/@wordpress/dom/src/focusable.js","webpack://wp/./node_modules/@wordpress/dom/build-module/@wordpress/dom/src/phrasing-content.js","webpack://wp/./node_modules/@wordpress/dom/build-module/@wordpress/dom/src/tabbable.js","webpack://wp/./node_modules/@wordpress/dom/build-module/utils/@wordpress/dom/src/utils/assert-is-defined.ts","webpack://wp/external window \"lodash\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/./node_modules/@wordpress/dom/build-module/@wordpress/dom/src/index.js"],"sourcesContent":["/**\n * Gets all files from a DataTransfer object.\n *\n * @param {DataTransfer} dataTransfer DataTransfer object to inspect.\n *\n * @return {File[]} An array containing all files.\n */\nexport function getFilesFromDataTransfer( dataTransfer ) {\n\tconst files = Array.from( dataTransfer.files );\n\n\tArray.from( dataTransfer.items ).forEach( ( item ) => {\n\t\tconst file = item.getAsFile();\n\n\t\tif (\n\t\t\tfile &&\n\t\t\t! files.find(\n\t\t\t\t( { name, type, size } ) =>\n\t\t\t\t\tname === file.name &&\n\t\t\t\t\ttype === file.type &&\n\t\t\t\t\tsize === file.size\n\t\t\t)\n\t\t) {\n\t\t\tfiles.push( file );\n\t\t}\n\t} );\n\n\treturn files;\n}\n","/**\n * Polyfill.\n * Get a collapsed range for a given point.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n *\n * @param {DocumentMaybeWithCaretPositionFromPoint} doc The document of the range.\n * @param {number}                                  x   Horizontal position within the current viewport.\n * @param {number}                                  y   Vertical position within the current viewport.\n *\n * @return {Range | null} The best range for the given point.\n */\nexport default function caretRangeFromPoint( doc, x, y ) {\n\tif ( doc.caretRangeFromPoint ) {\n\t\treturn doc.caretRangeFromPoint( x, y );\n\t}\n\n\tif ( ! doc.caretPositionFromPoint ) {\n\t\treturn null;\n\t}\n\n\tconst point = doc.caretPositionFromPoint( x, y );\n\n\t// If x or y are negative, outside viewport, or there is no text entry node.\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n\tif ( ! point ) {\n\t\treturn null;\n\t}\n\n\tconst range = doc.createRange();\n\n\trange.setStart( point.offsetNode, point.offset );\n\trange.collapse( true );\n\n\treturn range;\n}\n\n/**\n * @typedef {{caretPositionFromPoint?: (x: number, y: number)=> CaretPosition | null} & Document } DocumentMaybeWithCaretPositionFromPoint\n * @typedef {{ readonly offset: number; readonly offsetNode: Node; getClientRect(): DOMRect | null; }} CaretPosition\n */\n","/**\n * External dependencies\n */\nimport { includes, noop } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport isEmpty from './is-empty';\nimport remove from './remove';\nimport unwrap from './unwrap';\nimport { isPhrasingContent } from '../phrasing-content';\nimport insertAfter from './insert-after';\nimport isElement from './is-element';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @typedef SchemaItem\n * @property {string[]}                            [attributes] Attributes.\n * @property {(string | RegExp)[]}                 [classes]    Classnames or RegExp to test against.\n * @property {'*' | { [tag: string]: SchemaItem }} [children]   Child schemas.\n * @property {string[]}                            [require]    Selectors to test required children against. Leave empty or undefined if there are no requirements.\n * @property {boolean}                             allowEmpty   Whether to allow nodes without children.\n * @property {(node: Node) => boolean}             [isMatch]    Function to test whether a node is a match. If left undefined any node will be assumed to match.\n */\n\n/** @typedef {{ [tag: string]: SchemaItem }} Schema */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on a node\n * list.\n *\n * @param {NodeList} nodeList The nodeList to filter.\n * @param {Document} doc      The document of the nodeList.\n * @param {Schema}   schema   An array of functions that can mutate with the provided node.\n * @param {boolean}  inline   Whether to clean for inline mode.\n */\nexport default function cleanNodeList( nodeList, doc, schema, inline ) {\n\tArray.from( nodeList ).forEach( (\n\t\t/** @type {Node & { nextElementSibling?: unknown }} */ node\n\t) => {\n\t\tconst tag = node.nodeName.toLowerCase();\n\n\t\t// It's a valid child, if the tag exists in the schema without an isMatch\n\t\t// function, or with an isMatch function that matches the node.\n\t\tif (\n\t\t\tschema.hasOwnProperty( tag ) &&\n\t\t\t( ! schema[ tag ].isMatch || schema[ tag ].isMatch?.( node ) )\n\t\t) {\n\t\t\tif ( isElement( node ) ) {\n\t\t\t\tconst {\n\t\t\t\t\tattributes = [],\n\t\t\t\t\tclasses = [],\n\t\t\t\t\tchildren,\n\t\t\t\t\trequire = [],\n\t\t\t\t\tallowEmpty,\n\t\t\t\t} = schema[ tag ];\n\n\t\t\t\t// If the node is empty and it's supposed to have children,\n\t\t\t\t// remove the node.\n\t\t\t\tif ( children && ! allowEmpty && isEmpty( node ) ) {\n\t\t\t\t\tremove( node );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( node.hasAttributes() ) {\n\t\t\t\t\t// Strip invalid attributes.\n\t\t\t\t\tArray.from( node.attributes ).forEach( ( { name } ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tname !== 'class' &&\n\t\t\t\t\t\t\t! includes( attributes, name )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tnode.removeAttribute( name );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Strip invalid classes.\n\t\t\t\t\t// In jsdom-jscore, 'node.classList' can be undefined.\n\t\t\t\t\t// TODO: Explore patching this in jsdom-jscore.\n\t\t\t\t\tif ( node.classList && node.classList.length ) {\n\t\t\t\t\t\tconst mattchers = classes.map( ( item ) => {\n\t\t\t\t\t\t\tif ( typeof item === 'string' ) {\n\t\t\t\t\t\t\t\treturn ( /** @type {string} */ className ) =>\n\t\t\t\t\t\t\t\t\tclassName === item;\n\t\t\t\t\t\t\t} else if ( item instanceof RegExp ) {\n\t\t\t\t\t\t\t\treturn ( /** @type {string} */ className ) =>\n\t\t\t\t\t\t\t\t\titem.test( className );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn noop;\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tArray.from( node.classList ).forEach( ( name ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t! mattchers.some( ( isMatch ) =>\n\t\t\t\t\t\t\t\t\tisMatch( name )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnode.classList.remove( name );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( ! node.classList.length ) {\n\t\t\t\t\t\t\tnode.removeAttribute( 'class' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( node.hasChildNodes() ) {\n\t\t\t\t\t// Do not filter any content.\n\t\t\t\t\tif ( children === '*' ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Continue if the node is supposed to have children.\n\t\t\t\t\tif ( children ) {\n\t\t\t\t\t\t// If a parent requires certain children, but it does\n\t\t\t\t\t\t// not have them, drop the parent and continue.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\trequire.length &&\n\t\t\t\t\t\t\t! node.querySelector( require.join( ',' ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t// If the node is at the top, phrasing content, and\n\t\t\t\t\t\t\t// contains children that are block content, unwrap\n\t\t\t\t\t\t\t// the node because it is invalid.\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tnode.parentNode &&\n\t\t\t\t\t\t\tnode.parentNode.nodeName === 'BODY' &&\n\t\t\t\t\t\t\tisPhrasingContent( node )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tArray.from( node.childNodes ).some(\n\t\t\t\t\t\t\t\t\t( child ) => ! isPhrasingContent( child )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tchildren,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Remove children if the node is not supposed to have any.\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile ( node.firstChild ) {\n\t\t\t\t\t\t\tremove( node.firstChild );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Invalid child. Continue with schema at the same place and unwrap.\n\t\t} else {\n\t\t\tcleanNodeList( node.childNodes, doc, schema, inline );\n\n\t\t\t// For inline mode, insert a line break when unwrapping nodes that\n\t\t\t// are not phrasing content.\n\t\t\tif (\n\t\t\t\tinline &&\n\t\t\t\t! isPhrasingContent( node ) &&\n\t\t\t\tnode.nextElementSibling\n\t\t\t) {\n\t\t\t\tinsertAfter( doc.createElement( 'br' ), node );\n\t\t\t}\n\n\t\t\tunwrap( node );\n\t\t}\n\t} );\n}\n","/**\n * Internal dependencies\n */\nimport getRectangleFromRange from './get-rectangle-from-range';\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Get the rectangle for the selection in a container.\n *\n * @param {Window} win The window of the selection.\n *\n * @return {DOMRect | null} The rectangle.\n */\nexport default function computeCaretRect( win ) {\n\tconst selection = win.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn null;\n\t}\n\n\treturn getRectangleFromRange( range );\n}\n","/**\n * Internal dependencies\n */\nimport isTextField from './is-text-field';\nimport isNumberInput from './is-number-input';\nimport documentHasTextSelection from './document-has-text-selection';\n\n/**\n * Check whether the current document has a selection. This checks for both\n * focus in an input field and general text selection.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} True if there is selection, false if not.\n */\nexport default function documentHasSelection( doc ) {\n\treturn (\n\t\t!! doc.activeElement &&\n\t\t( isTextField( doc.activeElement ) ||\n\t\t\tisNumberInput( doc.activeElement ) ||\n\t\t\tdocumentHasTextSelection( doc ) )\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Check whether the current document has selected text. This applies to ranges\n * of text in the document, and not selection inside `<input>` and `<textarea>`\n * elements.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection#Related_objects.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} True if there is selection, false if not.\n */\nexport default function documentHasTextSelection( doc ) {\n\tassertIsDefined( doc.defaultView, 'doc.defaultView' );\n\tconst selection = doc.defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\treturn !! range && ! range.collapsed;\n}\n","/**\n * Internal dependencies\n */\nimport documentHasTextSelection from './document-has-text-selection';\nimport inputFieldHasUncollapsedSelection from './input-field-has-uncollapsed-selection';\n\n/**\n * Check whether the current document has any sort of selection. This includes\n * ranges of text across elements and any selection inside `<input>` and\n * `<textarea>` elements.\n *\n * @param {Document} doc The document to check.\n *\n * @return {boolean} Whether there is any sort of \"selection\" in the document.\n */\nexport default function documentHasUncollapsedSelection( doc ) {\n\treturn (\n\t\tdocumentHasTextSelection( doc ) ||\n\t\t( !! doc.activeElement &&\n\t\t\tinputFieldHasUncollapsedSelection( doc.activeElement ) )\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Element} element\n * @return {ReturnType<Window['getComputedStyle']>} The computed style for the element.\n */\nexport default function getComputedStyle( element ) {\n\t/* eslint-enable jsdoc/valid-types */\n\tassertIsDefined(\n\t\telement.ownerDocument.defaultView,\n\t\t'element.ownerDocument.defaultView'\n\t);\n\treturn element.ownerDocument.defaultView.getComputedStyle( element );\n}\n","/**\n * Internal dependencies\n */\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Returns the closest positioned element, or null under any of the conditions\n * of the offsetParent specification. Unlike offsetParent, this function is not\n * limited to HTMLElement and accepts any Node (e.g. Node.TEXT_NODE).\n *\n * @see https://drafts.csswg.org/cssom-view/#dom-htmlelement-offsetparent\n *\n * @param {Node} node Node from which to find offset parent.\n *\n * @return {Node | null} Offset parent.\n */\nexport default function getOffsetParent( node ) {\n\t// Cannot retrieve computed style or offset parent only anything other than\n\t// an element node, so find the closest element node.\n\tlet closestElement;\n\twhile ( ( closestElement = /** @type {Node} */ ( node.parentNode ) ) ) {\n\t\tif ( closestElement.nodeType === closestElement.ELEMENT_NODE ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( ! closestElement ) {\n\t\treturn null;\n\t}\n\n\t// If the closest element is already positioned, return it, as offsetParent\n\t// does not otherwise consider the node itself.\n\tif (\n\t\tgetComputedStyle( /** @type {Element} */ ( closestElement ) )\n\t\t\t.position !== 'static'\n\t) {\n\t\treturn closestElement;\n\t}\n\n\t// offsetParent is undocumented/draft.\n\treturn /** @type {Node & { offsetParent: Node }} */ ( closestElement )\n\t\t.offsetParent;\n}\n","/**\n * Gets the height of the range without ignoring zero width rectangles, which\n * some browsers ignore when creating a union.\n *\n * @param {Range} range The range to check.\n * @return {number | undefined} Height of the range or undefined if the range has no client rectangles.\n */\nexport default function getRangeHeight( range ) {\n\tconst rects = Array.from( range.getClientRects() );\n\n\tif ( ! rects.length ) {\n\t\treturn;\n\t}\n\n\tconst highestTop = Math.min( ...rects.map( ( { top } ) => top ) );\n\tconst lowestBottom = Math.max( ...rects.map( ( { bottom } ) => bottom ) );\n\n\treturn lowestBottom - highestTop;\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Get the rectangle of a given Range.\n *\n * @param {Range} range The range.\n *\n * @return {DOMRect} The rectangle.\n */\nexport default function getRectangleFromRange( range ) {\n\t// For uncollapsed ranges, get the rectangle that bounds the contents of the\n\t// range; this a rectangle enclosing the union of the bounding rectangles\n\t// for all the elements in the range.\n\tif ( ! range.collapsed ) {\n\t\tconst rects = Array.from( range.getClientRects() );\n\n\t\t// If there's just a single rect, return it.\n\t\tif ( rects.length === 1 ) {\n\t\t\treturn rects[ 0 ];\n\t\t}\n\n\t\t// Ignore tiny selection at the edge of a range.\n\t\tconst filteredRects = rects.filter( ( { width } ) => width > 1 );\n\n\t\t// If it's full of tiny selections, return browser default.\n\t\tif ( filteredRects.length === 0 ) {\n\t\t\treturn range.getBoundingClientRect();\n\t\t}\n\n\t\tif ( filteredRects.length === 1 ) {\n\t\t\treturn filteredRects[ 0 ];\n\t\t}\n\n\t\tlet {\n\t\t\ttop: furthestTop,\n\t\t\tbottom: furthestBottom,\n\t\t\tleft: furthestLeft,\n\t\t\tright: furthestRight,\n\t\t} = filteredRects[ 0 ];\n\n\t\tfor ( const { top, bottom, left, right } of filteredRects ) {\n\t\t\tif ( top < furthestTop ) furthestTop = top;\n\t\t\tif ( bottom > furthestBottom ) furthestBottom = bottom;\n\t\t\tif ( left < furthestLeft ) furthestLeft = left;\n\t\t\tif ( right > furthestRight ) furthestRight = right;\n\t\t}\n\n\t\treturn new window.DOMRect(\n\t\t\tfurthestLeft,\n\t\t\tfurthestTop,\n\t\t\tfurthestRight - furthestLeft,\n\t\t\tfurthestBottom - furthestTop\n\t\t);\n\t}\n\n\tconst { startContainer } = range;\n\tconst { ownerDocument } = startContainer;\n\n\t// Correct invalid \"BR\" ranges. The cannot contain any children.\n\tif ( startContainer.nodeName === 'BR' ) {\n\t\tconst { parentNode } = startContainer;\n\t\tassertIsDefined( parentNode, 'parentNode' );\n\t\tconst index = /** @type {Node[]} */ ( Array.from(\n\t\t\tparentNode.childNodes\n\t\t) ).indexOf( startContainer );\n\n\t\tassertIsDefined( ownerDocument, 'ownerDocument' );\n\t\trange = ownerDocument.createRange();\n\t\trange.setStart( parentNode, index );\n\t\trange.setEnd( parentNode, index );\n\t}\n\n\tlet rect = range.getClientRects()[ 0 ];\n\n\t// If the collapsed range starts (and therefore ends) at an element node,\n\t// `getClientRects` can be empty in some browsers. This can be resolved\n\t// by adding a temporary text node with zero-width space to the range.\n\t//\n\t// See: https://stackoverflow.com/a/6847328/995445\n\tif ( ! rect ) {\n\t\tassertIsDefined( ownerDocument, 'ownerDocument' );\n\t\tconst padNode = ownerDocument.createTextNode( '\\u200b' );\n\t\t// Do not modify the live range.\n\t\trange = range.cloneRange();\n\t\trange.insertNode( padNode );\n\t\trect = range.getClientRects()[ 0 ];\n\t\tassertIsDefined( padNode.parentNode, 'padNode.parentNode' );\n\t\tpadNode.parentNode.removeChild( padNode );\n\t}\n\n\treturn rect;\n}\n","/**\n * Internal dependencies\n */\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Given a DOM node, finds the closest scrollable container node.\n *\n * @param {Element | null} node Node from which to start.\n *\n * @return {Element | undefined} Scrollable container node, if found.\n */\nexport default function getScrollContainer( node ) {\n\tif ( ! node ) {\n\t\treturn undefined;\n\t}\n\n\t// Scrollable if scrollable height exceeds displayed...\n\tif ( node.scrollHeight > node.clientHeight ) {\n\t\t// ...except when overflow is defined to be hidden or visible\n\t\tconst { overflowY } = getComputedStyle( node );\n\t\tif ( /(auto|scroll)/.test( overflowY ) ) {\n\t\t\treturn node;\n\t\t}\n\t}\n\n\t// Continue traversing.\n\treturn getScrollContainer( /** @type {Element} */ ( node.parentNode ) );\n}\n","/**\n * Internal dependencies\n */\nimport caretRangeFromPoint from './caret-range-from-point';\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Get a collapsed range for a given point.\n * Gives the container a temporary high z-index (above any UI).\n * This is preferred over getting the UI nodes and set styles there.\n *\n * @param {Document}    doc       The document of the range.\n * @param {number}      x         Horizontal position within the current viewport.\n * @param {number}      y         Vertical position within the current viewport.\n * @param {HTMLElement} container Container in which the range is expected to be found.\n *\n * @return {?Range} The best range for the given point.\n */\nexport default function hiddenCaretRangeFromPoint( doc, x, y, container ) {\n\tconst originalZIndex = container.style.zIndex;\n\tconst originalPosition = container.style.position;\n\n\tconst { position = 'static' } = getComputedStyle( container );\n\n\t// A z-index only works if the element position is not static.\n\tif ( position === 'static' ) {\n\t\tcontainer.style.position = 'relative';\n\t}\n\n\tcontainer.style.zIndex = '10000';\n\n\tconst range = caretRangeFromPoint( doc, x, y );\n\n\tcontainer.style.zIndex = originalZIndex;\n\tcontainer.style.position = originalPosition;\n\n\treturn range;\n}\n","export { default as computeCaretRect } from './compute-caret-rect';\nexport { default as documentHasTextSelection } from './document-has-text-selection';\nexport { default as documentHasUncollapsedSelection } from './document-has-uncollapsed-selection';\nexport { default as documentHasSelection } from './document-has-selection';\nexport { default as getRectangleFromRange } from './get-rectangle-from-range';\nexport { default as getScrollContainer } from './get-scroll-container';\nexport { default as getOffsetParent } from './get-offset-parent';\nexport { default as isEntirelySelected } from './is-entirely-selected';\nexport { default as isFormElement } from './is-form-element';\nexport { default as isHorizontalEdge } from './is-horizontal-edge';\nexport { default as isNumberInput } from './is-number-input';\nexport { default as isTextField } from './is-text-field';\nexport { default as isVerticalEdge } from './is-vertical-edge';\nexport { default as placeCaretAtHorizontalEdge } from './place-caret-at-horizontal-edge';\nexport { default as placeCaretAtVerticalEdge } from './place-caret-at-vertical-edge';\nexport { default as replace } from './replace';\nexport { default as remove } from './remove';\nexport { default as insertAfter } from './insert-after';\nexport { default as unwrap } from './unwrap';\nexport { default as replaceTag } from './replace-tag';\nexport { default as wrap } from './wrap';\nexport { default as __unstableStripHTML } from './strip-html';\nexport { default as isEmpty } from './is-empty';\nexport { default as removeInvalidHTML } from './remove-invalid-html';\nexport { default as isRTL } from './is-rtl';\nexport { default as safeHTML } from './safe-html';\n","/**\n * Internal dependencies\n */\nimport isTextField from './is-text-field';\nimport isNumberInput from './is-number-input';\n\n/**\n * Check whether the given element, assumed an input field or textarea,\n * contains a (uncollapsed) selection of text.\n *\n * Note: this is perhaps an abuse of the term \"selection\", since these elements\n * manage selection differently and aren't covered by Selection#collapsed.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection#Related_objects.\n *\n * @param {Element} element The HTML element.\n *\n * @return {boolean} Whether the input/textareaa element has some \"selection\".\n */\nexport default function inputFieldHasUncollapsedSelection( element ) {\n\tif ( ! isTextField( element ) && ! isNumberInput( element ) ) {\n\t\treturn false;\n\t}\n\ttry {\n\t\tconst {\n\t\t\tselectionStart,\n\t\t\tselectionEnd,\n\t\t} = /** @type {HTMLInputElement | HTMLTextAreaElement} */ ( element );\n\n\t\treturn selectionStart !== null && selectionStart !== selectionEnd;\n\t} catch ( error ) {\n\t\t// Safari throws an exception when trying to get `selectionStart`\n\t\t// on non-text <input> elements (which, understandably, don't\n\t\t// have the text selection API). We catch this via a try/catch\n\t\t// block, as opposed to a more explicit check of the element's\n\t\t// input types, because of Safari's non-standard behavior. This\n\t\t// also means we don't have to worry about the list of input\n\t\t// types that support `selectionStart` changing as the HTML spec\n\t\t// evolves over time.\n\t\treturn false;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Given two DOM nodes, inserts the former in the DOM as the next sibling of\n * the latter.\n *\n * @param {Node} newNode       Node to be inserted.\n * @param {Node} referenceNode Node after which to perform the insertion.\n * @return {void}\n */\nexport default function insertAfter( newNode, referenceNode ) {\n\tassertIsDefined( referenceNode.parentNode, 'referenceNode.parentNode' );\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n}\n","/**\n * Internal dependencies\n */\nimport isRTL from './is-rtl';\nimport getRangeHeight from './get-range-height';\nimport getRectangleFromRange from './get-rectangle-from-range';\nimport isSelectionForward from './is-selection-forward';\nimport hiddenCaretRangeFromPoint from './hidden-caret-range-from-point';\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\n\n/**\n * Check whether the selection is at the edge of the container. Checks for\n * horizontal position by default. Set `onlyVertical` to true to check only\n * vertically.\n *\n * @param {Element} container            Focusable element.\n * @param {boolean} isReverse            Set to true to check left, false to check right.\n * @param {boolean} [onlyVertical=false] Set to true to check only vertical position.\n *\n * @return {boolean} True if at the edge, false if not.\n */\nexport default function isEdge( container, isReverse, onlyVertical = false ) {\n\tif (\n\t\tisInputOrTextArea( container ) &&\n\t\ttypeof container.selectionStart === 'number'\n\t) {\n\t\tif ( container.selectionStart !== container.selectionEnd ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( isReverse ) {\n\t\t\treturn container.selectionStart === 0;\n\t\t}\n\n\t\treturn container.value.length === container.selectionStart;\n\t}\n\n\tif ( ! (/** @type {HTMLElement} */ ( container ).isContentEditable) ) {\n\t\treturn true;\n\t}\n\n\tconst { ownerDocument } = container;\n\tconst { defaultView } = ownerDocument;\n\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\n\tif ( ! selection || ! selection.rangeCount ) {\n\t\treturn false;\n\t}\n\n\tconst range = selection.getRangeAt( 0 );\n\tconst collapsedRange = range.cloneRange();\n\tconst isForward = isSelectionForward( selection );\n\tconst isCollapsed = selection.isCollapsed;\n\n\t// Collapse in direction of selection.\n\tif ( ! isCollapsed ) {\n\t\tcollapsedRange.collapse( ! isForward );\n\t}\n\n\tconst collapsedRangeRect = getRectangleFromRange( collapsedRange );\n\tconst rangeRect = getRectangleFromRange( range );\n\n\tif ( ! collapsedRangeRect || ! rangeRect ) {\n\t\treturn false;\n\t}\n\n\t// Only consider the multiline selection at the edge if the direction is\n\t// towards the edge. The selection is multiline if it is taller than the\n\t// collapsed  selection.\n\tconst rangeHeight = getRangeHeight( range );\n\tif (\n\t\t! isCollapsed &&\n\t\trangeHeight &&\n\t\trangeHeight > collapsedRangeRect.height &&\n\t\tisForward === isReverse\n\t) {\n\t\treturn false;\n\t}\n\n\t// In the case of RTL scripts, the horizontal edge is at the opposite side.\n\tconst isReverseDir = isRTL( container ) ? ! isReverse : isReverse;\n\tconst containerRect = container.getBoundingClientRect();\n\n\t// To check if a selection is at the edge, we insert a test selection at the\n\t// edge of the container and check if the selections have the same vertical\n\t// or horizontal position. If they do, the selection is at the edge.\n\t// This method proves to be better than a DOM-based calculation for the\n\t// horizontal edge, since it ignores empty textnodes and a trailing line\n\t// break element. In other words, we need to check visual positioning, not\n\t// DOM positioning.\n\t// It also proves better than using the computed style for the vertical\n\t// edge, because we cannot know the padding and line height reliably in\n\t// pixels. `getComputedStyle` may return a value with different units.\n\tconst x = isReverseDir ? containerRect.left + 1 : containerRect.right - 1;\n\tconst y = isReverse ? containerRect.top + 1 : containerRect.bottom - 1;\n\tconst testRange = hiddenCaretRangeFromPoint(\n\t\townerDocument,\n\t\tx,\n\t\ty,\n\t\t/** @type {HTMLElement} */ ( container )\n\t);\n\n\tif ( ! testRange ) {\n\t\treturn false;\n\t}\n\n\tconst testRect = getRectangleFromRange( testRange );\n\n\tif ( ! testRect ) {\n\t\treturn false;\n\t}\n\n\tconst verticalSide = isReverse ? 'top' : 'bottom';\n\tconst horizontalSide = isReverseDir ? 'left' : 'right';\n\tconst verticalDiff = testRect[ verticalSide ] - rangeRect[ verticalSide ];\n\tconst horizontalDiff =\n\t\ttestRect[ horizontalSide ] - collapsedRangeRect[ horizontalSide ];\n\n\t// Allow the position to be 1px off.\n\tconst hasVerticalDiff = Math.abs( verticalDiff ) <= 1;\n\tconst hasHorizontalDiff = Math.abs( horizontalDiff ) <= 1;\n\n\treturn onlyVertical\n\t\t? hasVerticalDiff\n\t\t: hasVerticalDiff && hasHorizontalDiff;\n}\n","/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Node | null | undefined} node\n * @return {node is Element} True if node is an Element node\n */\nexport default function isElement( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn !! node && node.nodeType === node.ELEMENT_NODE;\n}\n","/**\n * Recursively checks if an element is empty. An element is not empty if it\n * contains text or contains elements with attributes such as images.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} Whether or not the element is empty.\n */\nexport default function isEmpty( element ) {\n\tswitch ( element.nodeType ) {\n\t\tcase element.TEXT_NODE:\n\t\t\t// We cannot use \\s since it includes special spaces which we want\n\t\t\t// to preserve.\n\t\t\treturn /^[ \\f\\n\\r\\t\\v\\u00a0]*$/.test( element.nodeValue || '' );\n\t\tcase element.ELEMENT_NODE:\n\t\t\tif ( element.hasAttributes() ) {\n\t\t\t\treturn false;\n\t\t\t} else if ( ! element.hasChildNodes() ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn /** @type {Element[]} */ ( Array.from(\n\t\t\t\telement.childNodes\n\t\t\t) ).every( isEmpty );\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {HTMLElement} element The element to check.\n *\n * @return {boolean} True if entirely selected, false if not.\n */\nexport default function isEntirelySelected( element ) {\n\tif ( isInputOrTextArea( element ) ) {\n\t\treturn (\n\t\t\telement.selectionStart === 0 &&\n\t\t\telement.value.length === element.selectionEnd\n\t\t);\n\t}\n\n\tif ( ! element.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst { ownerDocument } = element;\n\tconst { defaultView } = ownerDocument;\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn true;\n\t}\n\n\tconst { startContainer, endContainer, startOffset, endOffset } = range;\n\n\tif (\n\t\tstartContainer === element &&\n\t\tendContainer === element &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === element.childNodes.length\n\t) {\n\t\treturn true;\n\t}\n\n\tconst lastChild = element.lastChild;\n\tassertIsDefined( lastChild, 'lastChild' );\n\tconst endContainerContentLength =\n\t\tendContainer.nodeType === endContainer.TEXT_NODE\n\t\t\t? /** @type {Text} */ ( endContainer ).data.length\n\t\t\t: endContainer.childNodes.length;\n\n\treturn (\n\t\tisDeepChild( startContainer, element, 'firstChild' ) &&\n\t\tisDeepChild( endContainer, element, 'lastChild' ) &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === endContainerContentLength\n\t);\n}\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {HTMLElement|Node}         query     The element to check.\n * @param {HTMLElement}              container The container that we suspect \"query\" may be a first or last child of.\n * @param {\"firstChild\"|\"lastChild\"} propName  \"firstChild\" or \"lastChild\"\n *\n * @return {boolean} True if query is a deep first/last child of container, false otherwise.\n */\nfunction isDeepChild( query, container, propName ) {\n\t/** @type {HTMLElement | ChildNode | null} */\n\tlet candidate = container;\n\tdo {\n\t\tif ( query === candidate ) {\n\t\t\treturn true;\n\t\t}\n\t\tcandidate = candidate[ propName ];\n\t} while ( candidate );\n\treturn false;\n}\n","/**\n * Internal dependencies\n */\nimport isInputOrTextArea from './is-input-or-text-area';\n\n/**\n *\n * Detects if element is a form element.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if form element and false otherwise.\n */\nexport default function isFormElement( element ) {\n\tconst { tagName } = element;\n\tconst checkForInputTextarea = isInputOrTextArea( element );\n\treturn (\n\t\tcheckForInputTextarea || tagName === 'BUTTON' || tagName === 'SELECT'\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport isEdge from './is-edge';\n\n/**\n * Check whether the selection is horizontally at the edge of the container.\n *\n * @param {Element} container Focusable element.\n * @param {boolean} isReverse Set to true to check left, false for right.\n *\n * @return {boolean} True if at the horizontal edge, false if not.\n */\nexport default function isHorizontalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse );\n}\n","/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Node} node\n * @return {node is HTMLInputElement} Whether the node is an HTMLInputElement.\n */\nexport default function isHTMLInputElement( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn !! node && node.nodeName === 'INPUT';\n}\n","/* eslint-disable jsdoc/valid-types */\n/**\n * @param {Element} element\n * @return {element is HTMLInputElement | HTMLTextAreaElement} Whether the element is an input or textarea\n */\nexport default function isInputOrTextArea( element ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn element.tagName === 'INPUT' || element.tagName === 'TEXTAREA';\n}\n","/**\n * Internal dependencies\n */\nimport isHTMLInputElement from './is-html-input-element';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Check whether the given element is an input field of type number\n * and has a valueAsNumber\n *\n * @param {Node} node The HTML node.\n *\n * @return {node is HTMLInputElement} True if the node is input and holds a number.\n */\nexport default function isNumberInput( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\treturn (\n\t\tisHTMLInputElement( node ) &&\n\t\tnode.type === 'number' &&\n\t\t!! node.valueAsNumber\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport getComputedStyle from './get-computed-style';\n\n/**\n * Whether the element's text direction is right-to-left.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if rtl, false if ltr.\n */\nexport default function isRTL( element ) {\n\treturn getComputedStyle( element ).direction === 'rtl';\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Returns true if the given selection object is in the forward direction, or\n * false otherwise.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n *\n * @param {Selection} selection Selection object to check.\n *\n * @return {boolean} Whether the selection is forward.\n */\nexport default function isSelectionForward( selection ) {\n\tconst { anchorNode, focusNode, anchorOffset, focusOffset } = selection;\n\n\tassertIsDefined( anchorNode, 'anchorNode' );\n\tassertIsDefined( focusNode, 'focusNode' );\n\tconst position = anchorNode.compareDocumentPosition( focusNode );\n\n\t// Disable reason: `Node#compareDocumentPosition` returns a bitmask value,\n\t// so bitwise operators are intended.\n\t/* eslint-disable no-bitwise */\n\t// Compare whether anchor node precedes focus node. If focus node (where\n\t// end of selection occurs) is after the anchor node, it is forward.\n\tif ( position & anchorNode.DOCUMENT_POSITION_PRECEDING ) {\n\t\treturn false;\n\t}\n\n\tif ( position & anchorNode.DOCUMENT_POSITION_FOLLOWING ) {\n\t\treturn true;\n\t}\n\t/* eslint-enable no-bitwise */\n\n\t// `compareDocumentPosition` returns 0 when passed the same node, in which\n\t// case compare offsets.\n\tif ( position === 0 ) {\n\t\treturn anchorOffset <= focusOffset;\n\t}\n\n\t// This should never be reached, but return true as default case.\n\treturn true;\n}\n","/**\n * Internal dependencies\n */\nimport isHTMLInputElement from './is-html-input-element';\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Check whether the given element is a text field, where text field is defined\n * by the ability to select within the input, or that it is contenteditable.\n *\n * See: https://html.spec.whatwg.org/#textFieldSelection\n *\n * @param {Node} node The HTML element.\n * @return {node is HTMLElement} True if the element is an text field, false if not.\n */\nexport default function isTextField( node ) {\n\t/* eslint-enable jsdoc/valid-types */\n\tconst nonTextInputs = [\n\t\t'button',\n\t\t'checkbox',\n\t\t'hidden',\n\t\t'file',\n\t\t'radio',\n\t\t'image',\n\t\t'range',\n\t\t'reset',\n\t\t'submit',\n\t\t'number',\n\t];\n\treturn (\n\t\t( isHTMLInputElement( node ) &&\n\t\t\tnode.type &&\n\t\t\t! nonTextInputs.includes( node.type ) ) ||\n\t\tnode.nodeName === 'TEXTAREA' ||\n\t\t/** @type {HTMLElement} */ ( node ).contentEditable === 'true'\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport isEdge from './is-edge';\n\n/**\n * Check whether the selection is vertically at the edge of the container.\n *\n * @param {Element} container Focusable element.\n * @param {boolean} isReverse Set to true to check top, false for bottom.\n *\n * @return {boolean} True if at the vertical edge, false if not.\n */\nexport default function isVerticalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse, true );\n}\n","/**\n * Internal dependencies\n */\nimport hiddenCaretRangeFromPoint from './hidden-caret-range-from-point';\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport isInputOrTextArea from './is-input-or-text-area';\nimport isRTL from './is-rtl';\n\n/**\n * Gets the range to place.\n *\n * @param {HTMLElement}      container Focusable element.\n * @param {boolean}          isReverse True for end, false for start.\n * @param {number|undefined} x         X coordinate to vertically position.\n *\n * @return {Range|null} The range to place.\n */\nfunction getRange( container, isReverse, x ) {\n\tconst { ownerDocument } = container;\n\t// In the case of RTL scripts, the horizontal edge is at the opposite side.\n\tconst isReverseDir = isRTL( container ) ? ! isReverse : isReverse;\n\tconst containerRect = container.getBoundingClientRect();\n\t// When placing at the end (isReverse), find the closest range to the bottom\n\t// right corner. When placing at the start, to the top left corner.\n\tif ( x === undefined ) {\n\t\tx = isReverse ? containerRect.right - 1 : containerRect.left + 1;\n\t}\n\tconst y = isReverseDir ? containerRect.bottom - 1 : containerRect.top + 1;\n\treturn hiddenCaretRangeFromPoint( ownerDocument, x, y, container );\n}\n\n/**\n * Places the caret at start or end of a given element.\n *\n * @param {HTMLElement}      container Focusable element.\n * @param {boolean}          isReverse True for end, false for start.\n * @param {number|undefined} x         X coordinate to vertically position.\n */\nexport default function placeCaretAtEdge( container, isReverse, x ) {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tcontainer.focus();\n\n\tif ( isInputOrTextArea( container ) ) {\n\t\t// The element may not support selection setting.\n\t\tif ( typeof container.selectionStart !== 'number' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isReverse ) {\n\t\t\tcontainer.selectionStart = container.value.length;\n\t\t\tcontainer.selectionEnd = container.value.length;\n\t\t} else {\n\t\t\tcontainer.selectionStart = 0;\n\t\t\tcontainer.selectionEnd = 0;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif ( ! container.isContentEditable ) {\n\t\treturn;\n\t}\n\n\tlet range = getRange( container, isReverse, x );\n\n\t// If no range range can be created or it is outside the container, the\n\t// element may be out of view.\n\tif (\n\t\t! range ||\n\t\t! range.startContainer ||\n\t\t! container.contains( range.startContainer )\n\t) {\n\t\tcontainer.scrollIntoView( isReverse );\n\t\trange = range = getRange( container, isReverse, x );\n\n\t\tif (\n\t\t\t! range ||\n\t\t\t! range.startContainer ||\n\t\t\t! container.contains( range.startContainer )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst { ownerDocument } = container;\n\tconst { defaultView } = ownerDocument;\n\tassertIsDefined( defaultView, 'defaultView' );\n\tconst selection = defaultView.getSelection();\n\tassertIsDefined( selection, 'selection' );\n\tselection.removeAllRanges();\n\tselection.addRange( range );\n}\n","/**\n * Internal dependencies\n */\nimport placeCaretAtEdge from './place-caret-at-edge';\n\n/**\n * Places the caret at start or end of a given element.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse True for end, false for start.\n */\nexport default function placeCaretAtHorizontalEdge( container, isReverse ) {\n\treturn placeCaretAtEdge( container, isReverse, undefined );\n}\n","/**\n * Internal dependencies\n */\nimport placeCaretAtEdge from './place-caret-at-edge';\n\n/**\n * Places the caret at the top or bottom of a given element.\n *\n * @param {HTMLElement} container Focusable element.\n * @param {boolean}     isReverse True for bottom, false for top.\n * @param {DOMRect}     [rect]    The rectangle to position the caret with.\n */\nexport default function placeCaretAtVerticalEdge( container, isReverse, rect ) {\n\treturn placeCaretAtEdge( container, isReverse, rect?.left );\n}\n","/**\n * Internal dependencies\n */\nimport cleanNodeList from './clean-node-list';\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on HTML.\n *\n * @param {string}                             HTML   The HTML to clean up.\n * @param {import('./clean-node-list').Schema} schema Schema for the HTML.\n * @param {boolean}                            inline Whether to clean for inline mode.\n *\n * @return {string} The cleaned up HTML.\n */\nexport default function removeInvalidHTML( HTML, schema, inline ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tcleanNodeList( doc.body.childNodes, doc, schema, inline );\n\n\treturn doc.body.innerHTML;\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Given a DOM node, removes it from the DOM.\n *\n * @param {Node} node Node to be removed.\n * @return {void}\n */\nexport default function remove( node ) {\n\tassertIsDefined( node.parentNode, 'node.parentNode' );\n\tnode.parentNode.removeChild( node );\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Replaces the given node with a new node with the given tag name.\n *\n * @param {Element} node    The node to replace\n * @param {string}  tagName The new tag name.\n *\n * @return {Element} The new node.\n */\nexport default function replaceTag( node, tagName ) {\n\tconst newNode = node.ownerDocument.createElement( tagName );\n\n\twhile ( node.firstChild ) {\n\t\tnewNode.appendChild( node.firstChild );\n\t}\n\n\tassertIsDefined( node.parentNode, 'node.parentNode' );\n\tnode.parentNode.replaceChild( newNode, node );\n\n\treturn newNode;\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\nimport insertAfter from './insert-after';\nimport remove from './remove';\n\n/**\n * Given two DOM nodes, replaces the former with the latter in the DOM.\n *\n * @param {Element} processedNode Node to be removed.\n * @param {Element} newNode       Node to be inserted in its place.\n * @return {void}\n */\nexport default function replace( processedNode, newNode ) {\n\tassertIsDefined( processedNode.parentNode, 'processedNode.parentNode' );\n\tinsertAfter( newNode, processedNode.parentNode );\n\tremove( processedNode );\n}\n","/**\n * Internal dependencies\n */\nimport remove from './remove';\n\n/**\n * Strips scripts and on* attributes from HTML.\n *\n * @param {string} html HTML to sanitize.\n *\n * @return {string} The sanitized HTML.\n */\nexport default function safeHTML( html ) {\n\tconst { body } = document.implementation.createHTMLDocument( '' );\n\tbody.innerHTML = html;\n\tconst elements = body.getElementsByTagName( '*' );\n\tlet elementIndex = elements.length;\n\n\twhile ( elementIndex-- ) {\n\t\tconst element = elements[ elementIndex ];\n\n\t\tif ( element.tagName === 'SCRIPT' ) {\n\t\t\tremove( element );\n\t\t} else {\n\t\t\tlet attributeIndex = element.attributes.length;\n\n\t\t\twhile ( attributeIndex-- ) {\n\t\t\t\tconst { name: key } = element.attributes[ attributeIndex ];\n\n\t\t\t\tif ( key.startsWith( 'on' ) ) {\n\t\t\t\t\telement.removeAttribute( key );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn body.innerHTML;\n}\n","/**\n * Internal dependencies\n */\nimport safeHTML from './safe-html';\n\n/**\n * Removes any HTML tags from the provided string.\n *\n * @param {string} html The string containing html.\n *\n * @return {string} The text content with any html removed.\n */\nexport default function stripHTML( html ) {\n\t// Remove any script tags or on* attributes otherwise their *contents* will be left\n\t// in place following removal of HTML tags.\n\thtml = safeHTML( html );\n\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\tdoc.body.innerHTML = html;\n\treturn doc.body.textContent || '';\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Unwrap the given node. This means any child nodes are moved to the parent.\n *\n * @param {Node} node The node to unwrap.\n *\n * @return {void}\n */\nexport default function unwrap( node ) {\n\tconst parent = node.parentNode;\n\n\tassertIsDefined( parent, 'node.parentNode' );\n\n\twhile ( node.firstChild ) {\n\t\tparent.insertBefore( node.firstChild, node );\n\t}\n\n\tparent.removeChild( node );\n}\n","/**\n * Internal dependencies\n */\nimport { assertIsDefined } from '../utils/assert-is-defined';\n\n/**\n * Wraps the given node with a new node with the given tag name.\n *\n * @param {Element} newNode       The node to insert.\n * @param {Element} referenceNode The node to wrap.\n */\nexport default function wrap( newNode, referenceNode ) {\n\tassertIsDefined( referenceNode.parentNode, 'referenceNode.parentNode' );\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode );\n\tnewNode.appendChild( referenceNode );\n}\n","/**\n * References:\n *\n * Focusable:\n *  - https://www.w3.org/TR/html5/editing.html#focus-management\n *\n * Sequential focus navigation:\n *  - https://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n *\n * Disabled elements:\n *  - https://www.w3.org/TR/html5/disabled-elements.html#disabled-elements\n *\n * getClientRects algorithm (requiring layout box):\n *  - https://www.w3.org/TR/cssom-view-1/#extension-to-the-element-interface\n *\n * AREA elements associated with an IMG:\n *  - https://w3c.github.io/html/editing.html#data-model\n */\n\n/**\n * Returns a CSS selector used to query for focusable elements.\n *\n * @param {boolean} sequential If set, only query elements that are sequentially\n *                             focusable. Non-interactive elements with a\n *                             negative `tabindex` are focusable but not\n *                             sequentially focusable.\n *                             https://html.spec.whatwg.org/multipage/interaction.html#the-tabindex-attribute\n *\n * @return {string} CSS selector.\n */\nfunction buildSelector( sequential ) {\n\treturn [\n\t\tsequential ? '[tabindex]:not([tabindex^=\"-\"])' : '[tabindex]',\n\t\t'a[href]',\n\t\t'button:not([disabled])',\n\t\t'input:not([type=\"hidden\"]):not([disabled])',\n\t\t'select:not([disabled])',\n\t\t'textarea:not([disabled])',\n\t\t'iframe:not([tabindex^=\"-\"])',\n\t\t'object',\n\t\t'embed',\n\t\t'area[href]',\n\t\t'[contenteditable]:not([contenteditable=false])',\n\t].join( ',' );\n}\n\n/**\n * Returns true if the specified element is visible (i.e. neither display: none\n * nor visibility: hidden).\n *\n * @param {HTMLElement} element DOM element to test.\n *\n * @return {boolean} Whether element is visible.\n */\nfunction isVisible( element ) {\n\treturn (\n\t\telement.offsetWidth > 0 ||\n\t\telement.offsetHeight > 0 ||\n\t\telement.getClientRects().length > 0\n\t);\n}\n\n/**\n * Returns true if the specified area element is a valid focusable element, or\n * false otherwise. Area is only focusable if within a map where a named map\n * referenced by an image somewhere in the document.\n *\n * @param {HTMLAreaElement} element DOM area element to test.\n *\n * @return {boolean} Whether area element is valid for focus.\n */\nfunction isValidFocusableArea( element ) {\n\t/** @type {HTMLMapElement | null} */\n\tconst map = element.closest( 'map[name]' );\n\tif ( ! map ) {\n\t\treturn false;\n\t}\n\n\t/** @type {HTMLImageElement | null} */\n\tconst img = element.ownerDocument.querySelector(\n\t\t'img[usemap=\"#' + map.name + '\"]'\n\t);\n\treturn !! img && isVisible( img );\n}\n\n/**\n * Returns all focusable elements within a given context.\n *\n * @param {Element} context              Element in which to search.\n * @param {Object}  [options]\n * @param {boolean} [options.sequential] If set, only return elements that are\n *                                       sequentially focusable.\n *                                       Non-interactive elements with a\n *                                       negative `tabindex` are focusable but\n *                                       not sequentially focusable.\n *                                       https://html.spec.whatwg.org/multipage/interaction.html#the-tabindex-attribute\n *\n * @return {Element[]} Focusable elements.\n */\nexport function find( context, { sequential = false } = {} ) {\n\t/* eslint-disable jsdoc/no-undefined-types */\n\t/** @type {NodeListOf<HTMLElement>} */\n\t/* eslint-enable jsdoc/no-undefined-types */\n\tconst elements = context.querySelectorAll( buildSelector( sequential ) );\n\n\treturn Array.from( elements ).filter( ( element ) => {\n\t\tif ( ! isVisible( element ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { nodeName } = element;\n\t\tif ( 'AREA' === nodeName ) {\n\t\t\treturn isValidFocusableArea(\n\t\t\t\t/** @type {HTMLAreaElement} */ ( element )\n\t\t\t);\n\t\t}\n\n\t\treturn true;\n\t} );\n}\n","/**\n * External dependencies\n */\nimport { omit, without } from 'lodash';\n\n/**\n * All phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\n\n/**\n * @typedef {Record<string,SemanticElementDefinition>} ContentSchema\n */\n\n/**\n * @typedef SemanticElementDefinition\n * @property {string[]}      [attributes] Content attributes\n * @property {ContentSchema} [children]   Content attributes\n */\n\n/**\n * All text-level semantic elements.\n *\n * @see https://html.spec.whatwg.org/multipage/text-level-semantics.html\n *\n * @type {ContentSchema}\n */\nconst textContentSchema = {\n\tstrong: {},\n\tem: {},\n\ts: {},\n\tdel: {},\n\tins: {},\n\ta: { attributes: [ 'href', 'target', 'rel', 'id' ] },\n\tcode: {},\n\tabbr: { attributes: [ 'title' ] },\n\tsub: {},\n\tsup: {},\n\tbr: {},\n\tsmall: {},\n\t// To do: fix blockquote.\n\t// cite: {},\n\tq: { attributes: [ 'cite' ] },\n\tdfn: { attributes: [ 'title' ] },\n\tdata: { attributes: [ 'value' ] },\n\ttime: { attributes: [ 'datetime' ] },\n\tvar: {},\n\tsamp: {},\n\tkbd: {},\n\ti: {},\n\tb: {},\n\tu: {},\n\tmark: {},\n\truby: {},\n\trt: {},\n\trp: {},\n\tbdi: { attributes: [ 'dir' ] },\n\tbdo: { attributes: [ 'dir' ] },\n\twbr: {},\n\t'#text': {},\n};\n\n// Recursion is needed.\n// Possible: strong > em > strong.\n// Impossible: strong > strong.\nwithout( Object.keys( textContentSchema ), '#text', 'br' ).forEach( ( tag ) => {\n\ttextContentSchema[ tag ].children = omit( textContentSchema, tag );\n} );\n\n/**\n * Embedded content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#embedded-content-0\n *\n * @type {ContentSchema}\n */\nconst embeddedContentSchema = {\n\taudio: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t],\n\t},\n\tcanvas: { attributes: [ 'width', 'height' ] },\n\tembed: { attributes: [ 'src', 'type', 'width', 'height' ] },\n\timg: {\n\t\tattributes: [\n\t\t\t'alt',\n\t\t\t'src',\n\t\t\t'srcset',\n\t\t\t'usemap',\n\t\t\t'ismap',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tobject: {\n\t\tattributes: [\n\t\t\t'data',\n\t\t\t'type',\n\t\t\t'name',\n\t\t\t'usemap',\n\t\t\t'form',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tvideo: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'poster',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t\t'controls',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n};\n\n/**\n * Phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\nconst phrasingContentSchema = {\n\t...textContentSchema,\n\t...embeddedContentSchema,\n};\n\n/**\n * Get schema of possible paths for phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {string} [context] Set to \"paste\" to exclude invisible elements and\n *                           sensitive data.\n *\n * @return {Partial<ContentSchema>} Schema.\n */\nexport function getPhrasingContentSchema( context ) {\n\tif ( context !== 'paste' ) {\n\t\treturn phrasingContentSchema;\n\t}\n\n\treturn omit(\n\t\t{\n\t\t\t...phrasingContentSchema,\n\t\t\t// We shouldn't paste potentially sensitive information which is not\n\t\t\t// visible to the user when pasted, so strip the attributes.\n\t\t\tins: { children: phrasingContentSchema.ins.children },\n\t\t\tdel: { children: phrasingContentSchema.del.children },\n\t\t},\n\t\t[\n\t\t\t'u', // Used to mark misspelling. Shouldn't be pasted.\n\t\t\t'abbr', // Invisible.\n\t\t\t'data', // Invisible.\n\t\t\t'time', // Invisible.\n\t\t\t'wbr', // Invisible.\n\t\t\t'bdi', // Invisible.\n\t\t\t'bdo', // Invisible.\n\t\t]\n\t);\n}\n\n/**\n * Find out whether or not the given node is phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {Node} node The node to test.\n *\n * @return {boolean} True if phrasing content, false if not.\n */\nexport function isPhrasingContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn getPhrasingContentSchema().hasOwnProperty( tag ) || tag === 'span';\n}\n\n/**\n * @param {Node} node\n * @return {boolean} Node is text content\n */\nexport function isTextContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn textContentSchema.hasOwnProperty( tag ) || tag === 'span';\n}\n","/**\n * External dependencies\n */\nimport { without, first, last } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { find as findFocusable } from './focusable';\n\n/**\n * Returns the tab index of the given element. In contrast with the tabIndex\n * property, this normalizes the default (0) to avoid browser inconsistencies,\n * operating under the assumption that this function is only ever called with a\n * focusable node.\n *\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=1190261\n *\n * @param {Element} element Element from which to retrieve.\n *\n * @return {number} Tab index of element (default 0).\n */\nfunction getTabIndex( element ) {\n\tconst tabIndex = element.getAttribute( 'tabindex' );\n\treturn tabIndex === null ? 0 : parseInt( tabIndex, 10 );\n}\n\n/**\n * Returns true if the specified element is tabbable, or false otherwise.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is tabbable.\n */\nexport function isTabbableIndex( element ) {\n\treturn getTabIndex( element ) !== -1;\n}\n\n/** @typedef {Element & { type?: string, checked?: boolean, name?: string }} MaybeHTMLInputElement */\n\n/**\n * Returns a stateful reducer function which constructs a filtered array of\n * tabbable elements, where at most one radio input is selected for a given\n * name, giving priority to checked input, falling back to the first\n * encountered.\n *\n * @return {(acc: MaybeHTMLInputElement[], el: MaybeHTMLInputElement) => MaybeHTMLInputElement[]} Radio group collapse reducer.\n */\nfunction createStatefulCollapseRadioGroup() {\n\t/** @type {Record<string, MaybeHTMLInputElement>} */\n\tconst CHOSEN_RADIO_BY_NAME = {};\n\n\treturn function collapseRadioGroup(\n\t\t/** @type {MaybeHTMLInputElement[]} */ result,\n\t\t/** @type {MaybeHTMLInputElement} */ element\n\t) {\n\t\tconst { nodeName, type, checked, name } = element;\n\n\t\t// For all non-radio tabbables, construct to array by concatenating.\n\t\tif ( nodeName !== 'INPUT' || type !== 'radio' || ! name ) {\n\t\t\treturn result.concat( element );\n\t\t}\n\n\t\tconst hasChosen = CHOSEN_RADIO_BY_NAME.hasOwnProperty( name );\n\n\t\t// Omit by skipping concatenation if the radio element is not chosen.\n\t\tconst isChosen = checked || ! hasChosen;\n\t\tif ( ! isChosen ) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// At this point, if there had been a chosen element, the current\n\t\t// element is checked and should take priority. Retroactively remove\n\t\t// the element which had previously been considered the chosen one.\n\t\tif ( hasChosen ) {\n\t\t\tconst hadChosenElement = CHOSEN_RADIO_BY_NAME[ name ];\n\t\t\tresult = without( result, hadChosenElement );\n\t\t}\n\n\t\tCHOSEN_RADIO_BY_NAME[ name ] = element;\n\n\t\treturn result.concat( element );\n\t};\n}\n\n/**\n * An array map callback, returning an object with the element value and its\n * array index location as properties. This is used to emulate a proper stable\n * sort where equal tabIndex should be left in order of their occurrence in the\n * document.\n *\n * @param {Element} element Element.\n * @param {number}  index   Array index of element.\n *\n * @return {{ element: Element, index: number }} Mapped object with element, index.\n */\nfunction mapElementToObjectTabbable( element, index ) {\n\treturn { element, index };\n}\n\n/**\n * An array map callback, returning an element of the given mapped object's\n * element value.\n *\n * @param {{ element: Element }} object Mapped object with element.\n *\n * @return {Element} Mapped object element.\n */\nfunction mapObjectTabbableToElement( object ) {\n\treturn object.element;\n}\n\n/**\n * A sort comparator function used in comparing two objects of mapped elements.\n *\n * @see mapElementToObjectTabbable\n *\n * @param {{ element: Element, index: number }} a First object to compare.\n * @param {{ element: Element, index: number }} b Second object to compare.\n *\n * @return {number} Comparator result.\n */\nfunction compareObjectTabbables( a, b ) {\n\tconst aTabIndex = getTabIndex( a.element );\n\tconst bTabIndex = getTabIndex( b.element );\n\n\tif ( aTabIndex === bTabIndex ) {\n\t\treturn a.index - b.index;\n\t}\n\n\treturn aTabIndex - bTabIndex;\n}\n\n/**\n * Givin focusable elements, filters out tabbable element.\n *\n * @param {Element[]} focusables Focusable elements to filter.\n *\n * @return {Element[]} Tabbable elements.\n */\nfunction filterTabbable( focusables ) {\n\treturn focusables\n\t\t.filter( isTabbableIndex )\n\t\t.map( mapElementToObjectTabbable )\n\t\t.sort( compareObjectTabbables )\n\t\t.map( mapObjectTabbableToElement )\n\t\t.reduce( createStatefulCollapseRadioGroup(), [] );\n}\n\n/**\n * @param {Element} context\n * @return {Element[]} Tabbable elements within the context.\n */\nexport function find( context ) {\n\treturn filterTabbable( findFocusable( context ) );\n}\n\n/**\n * Given a focusable element, find the preceding tabbable element.\n *\n * @param {Element} element The focusable element before which to look. Defaults\n *                          to the active element.\n *\n * @return {Element|undefined} Preceding tabbable element.\n */\nexport function findPrevious( element ) {\n\tconst focusables = findFocusable( element.ownerDocument.body );\n\tconst index = focusables.indexOf( element );\n\n\tif ( index === -1 ) {\n\t\treturn undefined;\n\t}\n\n\t// Remove all focusables after and including `element`.\n\tfocusables.length = index;\n\n\treturn last( filterTabbable( focusables ) );\n}\n\n/**\n * Given a focusable element, find the next tabbable element.\n *\n * @param {Element} element The focusable element after which to look. Defaults\n *                          to the active element.\n */\nexport function findNext( element ) {\n\tconst focusables = findFocusable( element.ownerDocument.body );\n\tconst index = focusables.indexOf( element );\n\n\t// Remove all focusables before and including `element`.\n\tconst remaining = focusables.slice( index + 1 );\n\n\treturn first( filterTabbable( remaining ) );\n}\n","export function assertIsDefined< T >(\n\tval: T,\n\tname: string\n): asserts val is NonNullable< T > {\n\tif (\n\t\tprocess.env.NODE_ENV !== 'production' &&\n\t\t( val === undefined || val === null )\n\t) {\n\t\tthrow new Error(\n\t\t\t`Expected '${ name }' to be defined, but received ${ val }`\n\t\t);\n\t}\n}\n","module.exports = window[\"lodash\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Internal dependencies\n */\nimport * as focusable from './focusable';\nimport * as tabbable from './tabbable';\n\n/**\n * Object grouping `focusable` and `tabbable` utils\n * under the keys with the same name.\n */\nexport const focus = { focusable, tabbable };\n\nexport * from './dom';\nexport * from './phrasing-content';\nexport * from './data-transfer';\n"],"names":["getFilesFromDataTransfer","dataTransfer","files","Array","from","items","forEach","item","file","getAsFile","find","name","type","size","push","caretRangeFromPoint","doc","x","y","caretPositionFromPoint","point","range","createRange","setStart","offsetNode","offset","collapse","includes","noop","isEmpty","remove","unwrap","isPhrasingContent","insertAfter","isElement","cleanNodeList","nodeList","schema","inline","node","tag","nodeName","toLowerCase","hasOwnProperty","isMatch","attributes","classes","children","require","allowEmpty","hasAttributes","removeAttribute","classList","length","mattchers","map","className","RegExp","test","some","hasChildNodes","querySelector","join","childNodes","parentNode","child","firstChild","nextElementSibling","createElement","getRectangleFromRange","assertIsDefined","computeCaretRect","win","selection","getSelection","rangeCount","getRangeAt","isTextField","isNumberInput","documentHasTextSelection","documentHasSelection","activeElement","defaultView","collapsed","inputFieldHasUncollapsedSelection","documentHasUncollapsedSelection","getComputedStyle","element","ownerDocument","getOffsetParent","closestElement","nodeType","ELEMENT_NODE","position","offsetParent","getRangeHeight","rects","getClientRects","highestTop","Math","min","top","lowestBottom","max","bottom","filteredRects","filter","width","getBoundingClientRect","furthestTop","furthestBottom","left","furthestLeft","right","furthestRight","window","DOMRect","startContainer","index","indexOf","setEnd","rect","padNode","createTextNode","cloneRange","insertNode","removeChild","getScrollContainer","undefined","scrollHeight","clientHeight","overflowY","hiddenCaretRangeFromPoint","container","originalZIndex","style","zIndex","originalPosition","default","isEntirelySelected","isFormElement","isHorizontalEdge","isVerticalEdge","placeCaretAtHorizontalEdge","placeCaretAtVerticalEdge","replace","replaceTag","wrap","__unstableStripHTML","removeInvalidHTML","isRTL","safeHTML","selectionStart","selectionEnd","error","newNode","referenceNode","insertBefore","nextSibling","isSelectionForward","isInputOrTextArea","isEdge","isReverse","onlyVertical","value","isContentEditable","collapsedRange","isForward","isCollapsed","collapsedRangeRect","rangeRect","rangeHeight","height","isReverseDir","containerRect","testRange","testRect","verticalSide","horizontalSide","verticalDiff","horizontalDiff","hasVerticalDiff","abs","hasHorizontalDiff","TEXT_NODE","nodeValue","every","endContainer","startOffset","endOffset","lastChild","endContainerContentLength","data","isDeepChild","query","propName","candidate","tagName","checkForInputTextarea","isHTMLInputElement","valueAsNumber","direction","anchorNode","focusNode","anchorOffset","focusOffset","compareDocumentPosition","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","nonTextInputs","contentEditable","getRange","placeCaretAtEdge","focus","contains","scrollIntoView","removeAllRanges","addRange","HTML","document","implementation","createHTMLDocument","body","innerHTML","appendChild","replaceChild","processedNode","html","elements","getElementsByTagName","elementIndex","attributeIndex","key","startsWith","stripHTML","textContent","parent","buildSelector","sequential","isVisible","offsetWidth","offsetHeight","isValidFocusableArea","closest","img","context","querySelectorAll","omit","without","textContentSchema","strong","em","s","del","ins","a","code","abbr","sub","sup","br","small","q","dfn","time","var","samp","kbd","i","b","u","mark","ruby","rt","rp","bdi","bdo","wbr","Object","keys","embeddedContentSchema","audio","canvas","embed","object","video","phrasingContentSchema","getPhrasingContentSchema","isTextContent","first","last","findFocusable","getTabIndex","tabIndex","getAttribute","parseInt","isTabbableIndex","createStatefulCollapseRadioGroup","CHOSEN_RADIO_BY_NAME","collapseRadioGroup","result","checked","concat","hasChosen","isChosen","hadChosenElement","mapElementToObjectTabbable","mapObjectTabbableToElement","compareObjectTabbables","aTabIndex","bTabIndex","filterTabbable","focusables","sort","reduce","findPrevious","findNext","remaining","slice","val","process","env","NODE_ENV","Error","focusable","tabbable"],"sourceRoot":""}